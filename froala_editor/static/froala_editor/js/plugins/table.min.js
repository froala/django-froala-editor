/*!
 * froala_editor v4.6.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2025 Froala Labs
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(ke){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,l=Array(t);a<t;a++)l[a]=e[a];return l}function Be(e){return function t(e){if(Array.isArray(e))return n(e)}(e)||function a(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function l(e,t){if(e){if("string"==typeof e)return n(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function r(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}ke=ke&&ke.hasOwnProperty("default")?ke["default"]:ke,Object.assign(ke.POPUP_TEMPLATES,{"table.insert":"[_BUTTONS_][_ROWS_COLUMNS_]","table.edit":"[_BUTTONS_]","table.colors":"[_BUTTONS_][_COLORS_][_CUSTOM_COLOR_]","table.cellProperties":"[_CELL_PROPERTIES_FORM_][_BUTTONS_]","table.tableProperties":"[_TABLE_PROPERTIES_FORM_][_BUTTONS_]"}),Object.assign(ke.DEFAULTS,{tableInsertMaxSize:10,tableEditButtons:["tableHeader","tableFooter","tableRemove","tableRows","tableColumns","tableProperties","-","tableCells","tableCellProperties","tableCellVerticalAlign","tableCellHorizontalAlign","tableCellStyle"],tableInsertButtons:["tableBack","|"],tableResizer:!0,tableDefaultWidth:"50%",tableDefaultAlign:"center",tableDefaultHeight:"100px",tableDefaultBGColor:"",tableDefaultBorderColor:"",tableDefaultBorderWidth:"1px",tableDefaultBorderStyle:"solid",tableBorderStyle:["solid","dashed","dotted","double","groove","ridge","inset","outset"],tableResizerOffset:5,tableResizingLimit:30,tableColorsButtons:["tableBack","|"],tableColors:["#61BD6D","#1ABC9C","#54ACD2","#2C82C9","#9365B8","#475577","#CCCCCC","#41A85F","#00A885","#3D8EB9","#2969B0","#553982","#28324E","#000000","#F7DA64","#FBA026","#EB6B56","#E25041","#A38F84","#EFEFEF","#FFFFFF","#FAC51C","#F37934","#D14841","#B8312F","#7C706B","#D1D5D8","REMOVE"],tableColorsStep:7,tableCellStyles:{"fr-highlighted":"Highlighted","fr-thick":"Thick"},tableStyles:{"fr-dashed-borders":"Dashed Borders","fr-alternate-rows":"Alternate Rows"},tableCellMultipleStyles:!0,tableMultipleStyles:!0,tableInsertHelper:!0,keepTextFormatOnTable:!1,tableInsertHelperOffset:15}),ke.PLUGINS.table=function(T){var x,c,o,i,l,r,E,R=T.$,s={};function C(){var e=V();if(e){var t=T.popups.get("table.edit");if(t||(t=b()),t){T.popups.setContainer("table.edit",T.$sc);var a=k(e),l=a.left+(a.right-a.left)/2,r=a.bottom;T.popups.show("table.edit",l,r,a.bottom-a.top,!0),T.edit.isDisabled()&&(T.$el.removeClass("fr-no-selection"),T.edit.on(),T.button.bulkRefresh(),T.selection.setAtEnd(T.$el.find(".fr-selected-cell").last().get(0)),T.selection.restore())}}}function n(){0===pe().length&&T.toolbar.enable()}function p(e){if(e)return T.popups.onHide("table.insert",function(){T.popups.get("table.insert").find('.fr-table-size .fr-select-table-size > span[data-row="1"][data-col="1"]').trigger("mouseover")}),!0;var t="";0<T.opts.tableInsertButtons.length&&(t='<div class="fr-buttons fr-tabs">'.concat(T.button.buildList(T.opts.tableInsertButtons),"</div>"));var a={buttons:t,rows_columns:function n(){for(var e='<div class="fr-table-size"><div class="fr-table-size-info">1 &times; 1</div><div class="fr-select-table-size">',t=1;t<=T.opts.tableInsertMaxSize;t++){for(var a=1;a<=T.opts.tableInsertMaxSize;a++){var l="inline-block";2<t&&!T.helpers.isMobile()&&(l="none");var r="fr-table-cell ";1==t&&1==a&&(r+=" hover"),e+='<span class="fr-command '.concat(r,'" tabIndex="-1" data-cmd="tableInsert" data-row="').concat(t,'" data-col="').concat(a,'" data-param1="').concat(t,'" data-param2="').concat(a,'" style="display: ').concat(l,';" role="button"><span></span><span class="fr-sr-only">').concat(t," &times; ").concat(a,"&nbsp;&nbsp;&nbsp;</span></span>")}e+='<div class="new-line"></div>'}return e+="</div></div>"}()},l=T.popups.create("table.insert",a);return T.events.$on(l,"mouseover",".fr-table-size .fr-select-table-size .fr-table-cell",function(e){f(R(e.currentTarget))},!0),function r(e){T.events.$on(e,"focus","[tabIndex]",function(e){var t=R(e.currentTarget);f(t)}),T.events.on("popup.tab",function(e){var t=R(e.currentTarget);if(!T.popups.isVisible("table.insert")||!t.is("span, a"))return!0;var a,l=e.which;if(ke.KEYCODE.ARROW_UP==l||ke.KEYCODE.ARROW_DOWN==l||ke.KEYCODE.ARROW_LEFT==l||ke.KEYCODE.ARROW_RIGHT==l){if(t.is("span.fr-table-cell")){var r=t.parent().find("span.fr-table-cell"),n=r.index(t),o=T.opts.tableInsertMaxSize,i=n%o,s=Math.floor(n/o);ke.KEYCODE.ARROW_UP==l?s=Math.max(0,s-1):ke.KEYCODE.ARROW_DOWN==l?s=Math.min(T.opts.tableInsertMaxSize-1,s+1):ke.KEYCODE.ARROW_LEFT==l?i=Math.max(0,i-1):ke.KEYCODE.ARROW_RIGHT==l&&(i=Math.min(T.opts.tableInsertMaxSize-1,i+1));var c=s*o+i,d=R(r.get(c));f(d),T.events.disableBlur(),d.focus(),a=!1}}else ke.KEYCODE.ENTER==l&&(T.button.exec(t),a=!1);return!1===a&&(e.preventDefault(),e.stopPropagation()),a},!0)}(l),l}function f(e){var t=e.data("row");null!==t&&(t=parseInt(t));var a=e.data("col");null!==a&&(a=parseInt(a));var l=e.parent();l.siblings(".fr-table-size-info").html("".concat(t," &times; ").concat(a)),l.find("> span").removeClass("hover fr-active-item");for(var r=1;r<=T.opts.tableInsertMaxSize;r++)for(var n=0;n<=T.opts.tableInsertMaxSize;n++){var o=l.find('> span[data-row="'.concat(r,'"][data-col="').concat(n,'"]'));r<=t&&n<=a?o.addClass("hover"):r<=t+1||r<=2&&!T.helpers.isMobile()?o.css("display","inline-block"):2<r&&!T.helpers.isMobile()&&o.css("display","none")}e.addClass("fr-active-item")}function b(e){if(e)return T.popups.onHide("table.edit",n),!0;if(0<T.opts.tableEditButtons.length){var t={buttons:'<div class="fr-buttons">'.concat(T.button.buildList(T.opts.tableEditButtons),"</div>")},a=T.popups.create("table.edit",t);return T.events.$on(T.$wp,"scroll.table-edit",function(){T.popups.isVisible("table.edit")&&C()}),a}return!1}function A(e,t,a){var l=R(e),r=R(t);a&&"REMOVE"!==a&&"transparent"!==a&&"rgba(0, 0, 0, 0)"!==a?(l.css("background-color",a),r.css("display","none")):(l.css("background-color","transparent"),r.css("display","block"))}function m(){var e=T.popups.get("table.cellProperties");if(!e){e=T.popups.create("table.cellProperties",{cell_properties_form:'\n          <div class="fr-cell-properties-form">\n            <div class="fr-cell-properties-section">\n              <label>Background</label>\n              <div class="fr-cell-bg-container">\n                <input type="text" id="fr-cell-bg" class="fr-input" tabIndex="1" placeholder="Color">\n                <button type="button" class="fr-command fr-btn-cell-bg-color" tabIndex="2" data-param1="cell" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n            </div>\n        \n            <div class="fr-cell-dimensions-container">\n              <div class="fr-cell-dimension-section">\n                <label>Dimensions</label>\n                <div class="fr-dimension-inputs">\n                  <input type="text" id="fr-cell-width" tabIndex="3" placeholder="Width">\n                  <span class="fr-dimension-separator">\xd7</span>\n                  <input type="text" id="fr-cell-height" tabIndex="4" placeholder="Height">\n                  <label for="fr-cell-height"></label>\n                </div>\n              </div>\n        \n              <div class="fr-cell-padding-section">\n                <label>Padding</label>\n                <div>\n                  <input type="text" id="fr-cell-padding" tabIndex="5" placeholder="Size">\n                  <label for="fr-cell-padding"></label>\n                </div>\n              </div>\n            </div>\n        \n            <div class="fr-cell-properties-buttons">\n              <button type="button" class="fr-command fr-enable-accessibility fr-cancel-button" tabIndex="6" data-cmd="onCancel">Cancel</button>\n              <button type="button" class="fr-command fr-enable-accessibility fr-save-button" tabIndex="7" data-cmd="applyCellProperties">Save</button>\n            </div>\n          </div>',buttons:""}),w(),T.events.$on(e,"input","#fr-cell-bg",function(){e.data("bg-modified",!0)}),T.events.$on(e,"input","#fr-cell-width",function(){e.data("width-modified",!0)}),T.events.$on(e,"input","#fr-cell-height",function(){e.data("height-modified",!0)}),T.events.$on(e,"input","#fr-cell-padding",function(){e.data("padding-modified",!0)})}return e}function w(){var e=T.popups.get("table.cellProperties");e&&(e.data("bg-modified",!1),e.data("width-modified",!1),e.data("height-modified",!1),e.data("padding-modified",!1))}function d(e){var t,a,l,r,n=T.popups.get("table.colors").data("type");if("table"===n){var o=T.popups.get("table.tableProperties");t=o.find(".fr-color-preview"),a=o.find(".fr-color-preview-indicator"),l=o.find("#fr-table-bg")}else if("cell"===n){var i=T.popups.get("table.cellProperties");t=i.find(".fr-color-preview"),a=i.find(".fr-color-preview-indicator"),l=i.find("#fr-cell-bg"),r=T.popups.get("table.cellProperties")}else if("border"===n){var s=T.popups.get("table.tableProperties");t=s.find(".fr-border-color-preview"),a=s.find(".fr-border-color-preview-indicator"),l=s.find("#fr-table-border-color")}"string"==typeof e&&(T.helpers.isRGBColor(e)&&(e=T.helpers.RGBToHex(e).toUpperCase()),(T.helpers.isValidHexColor(e)||"transparent"===e||""===e)&&(R(l).val(e),R(l).focus(),"cell"===n&&R(r).data("bg-modified",!0),A(t,a,e)))}function h(e){var t=R(e).next().get(0);if(t){var a=T.doc.createRange();a.setStart(t,0),a.collapse(!0);var l=T.selection.get();l.removeAllRanges(),l.addRange(a)}else T.selection.get().collapse(R(e).get(0))}function e(){s[T.id]||(s[T.id]=R(document.createElement("div")).attr("class","fr-table-selector").html('<a role="button" tabIndex="-1" title="'.concat(T.language.translate("Select Table"),'">').concat(T.icon.create("tableSelectorIcon"),"</a>")));var n=T.language.translate("The content you are pasting does not contain a table.\nPlease ensure the copied content is in table format.");T.events.on("paste.before",function(e,t){if(T.$el.find("table.fr-table-selected").length){var a=t||e&&e.clipboardData;if(a&&a.items){var l=(a||window.clipboardData).getData("text/html")||"";if(!l||-1===l.indexOf("<table"))return alert(n),e.preventDefault(),e.stopPropagation(),!1}}return!0}),T.events.on("html.beforeInsert",function(e){var t=T.$el.find("table.fr-table-selected");if(t.length){var a=function r(e){var t=T.doc.createElement("div");t.innerHTML=e;for(var a=t.firstChild;a;){var l=a.nextSibling;(a.nodeType===Node.TEXT_NODE&&""===a.textContent.replace(/\u200b/g,"").trim()||a.nodeType===Node.COMMENT_NODE||"SPAN"===a.tagName&&""===a.textContent.replace(/\u200b/g,"").trim())&&a.remove(),a=l}return 1===t.childNodes.length&&"TABLE"===t.childNodes[0].tagName&&t.childNodes[0]}(e);return a?(function v(e,t){for(var a=t.get(0),l=a.rows[0].cells[0],r=l&&l.parentNode?l.parentNode.rowIndex:0,n=l?l.cellIndex:0,o=a.rows,i=e.rows,s=0;s<e.rows.length;s++){if(!o[r+s])for(var c=o[o.length-1].cells.length,d=a.insertRow(),f=0;f<c;f++)d.insertCell();for(var p=o[r+s],b=0;b<e.rows[s].cells.length;b++){if(!p.cells[n+b])for(var h=0;h<o.length;h++)o[h].insertCell();var u=p.cells[n+b],g=i[s].cells[b];u.outerHTML=g.outerHTML}}}(a,t),T.keys.positionCaret(),T.events.trigger("html.inserted")):alert(n),!1}return!0}),T.events.on("mousedown",function(){T.$el.find("table.fr-table-selected").length&&ae()}),T.events.$on(R(T.o_win),"resize",function(){var e=T.$el.find("table.fr-table-selected");e.length?le(e):ae()}),T.events.on("commands.undo commands.redo commands.before",function(e){if(!/^align/.test(e)){var t=T.$el.find("table.fr-table-selected");t.length&&(ae(),h(t))}});var e=null,t=null;T.events.on("snapshot.before",function(){t=T.$el.find("table.fr-table-selection-hover"),e=T.$el.find("table.fr-table-selected"),ee(t,"fr-table-selection-hover"),ee(e,"fr-table-selected")}),T.events.on("snapshot.after",function(){e&&e.addClass("fr-table-selected"),t&&t.addClass("fr-table-selection-hover")}),T.events.$on(s[T.id],"click",function(){var e=T.$el.find("table.fr-table-selection-hover"),t=T.$el.find("table.fr-table-selected");e.length&&(ee(t,"fr-table-selected"),s[T.id].addClass("fr-table-selector-active-selected"),e.addClass("fr-table-selected"),ee(e,"fr-table-selection-hover"),t=e);var a=T.doc.createRange();T.selection.get().removeAllRanges();var l=t.get(0);a.selectNode(l),T.selection.get().addRange(a)}),T.events.on("destroy",function(){ae(),s[T.id]=null})}function u(e){var t={startTag:"",closeTag:""};return T.opts.keepTextFormatOnTable&&(t=g(function i(e){var t=new Set,a=e.textContent,l=0,r=[e.firstChild];for(;0<r.length;){var n=r.pop();if(n&&(t.has(n)||(0===l&&a!==n.textContent&&(a=n.textContent,l++),t.add(n)),n.hasChildNodes()))for(var o=0;o<n.childNodes.length;){if(3===n.childNodes[o].nodeType)return Be(t);if(n.childNodes[o].textContent){if(0===l&&n.childNodes[o].textContent!==a){a=n.childNodes[o].textContent,r.push(n.childNodes[o]),l++;break}n.childNodes[o].textContent===a&&r.push(n.childNodes[o])}o++}}return Be(t)}(e).reverse())),{startTag:t.startTag,closeTag:t.closeTag}}function g(e){var t="",a="",l=["br","#text","#comment","font"];if(0<e.length)for(var r=e.length-1;0<=r;r--){var n=e[r],o=T.node.isBlock(n),i=l.indexOf(n.nodeName.toLowerCase());if(!o&&i<0){var s=n.style,c="";if(s&&s.length){for(var d=0;d<s.length;d++)c+=s[d]+": "+s[s[d]].replace(/"/gi,"")+"; ";c=c.trim()}t+=c?"<"+n.nodeName.toLowerCase()+' style="'+c+'">':"<"+n.nodeName.toLowerCase()+">",a="</"+n.nodeName.toLowerCase()+">"+a}}return{startTag:t,closeTag:a}}function y(){var e=be(),t=pe(),a=0<t.length,l=0<e.length;(a||l)&&(a&&(T.selection.setBefore(t[0])||T.selection.setAfter(t[0]),T.selection.restore(),T.popups.hide("table.edit")),h(e),T.undo.saveStep(),ae(),I(),e.remove(),T.$el.focus())}function O(e){var t=be();if(0<t.length){if(0<T.$el.find("thead .fr-selected-cell").length&&"above"==e||0<T.$el.find("tfoot td.fr-selected-cell").length&&"below"==e)return;var a,l,r,n=V(),o=L(n);if(null==o)return;l="above"==e?o.min_i:o.max_i;var i="<tr>";for(a=0;a<n[l].length;a++)if("below"==e&&l<n.length-1&&n[l][a]==n[l+1][a]||"above"==e&&0<l&&n[l][a]==n[l-1][a]){if(0===a||0<a&&n[l][a]!=n[l][a-1]){var s=R(n[l][a]);s.attr("rowspan",parseInt(s.attr("rowspan"),10)+1)}}else{var c=R(n[l][a]);if("TH"==c.attr("tagName").toUpperCase())i+='<th style="'+c.attr("style")+'" ><br></th>';else{var d=u(n[l][a]);i+='<td style="'+c.attr("style")+'" >'+d.startTag+"<br>"+d.closeTag+"</td>"}}i+="</tr>",r=0<T.$el.find("thead .fr-selected-cell").length&&"below"==e||0<T.$el.find("tfoot td.fr-selected-cell").length&&"above"==e?R(t.find("tbody").not(t.find("> table tbody"))):R(t.find("tr").not(t.find("> table tr")).get(l)),"below"==e?"TBODY"==r.attr("tagName")?r.prepend(i):r[0].parentNode&&r[0].insertAdjacentHTML("afterend",i):"above"==e&&("TBODY"==r.attr("tagName")?r.append(i):r.before(i),T.popups.isVisible("table.edit")&&C())}}function v(e,t,a){var l,r,n,o,i,s=0,c=V(a);if(e<(t=Math.min(t,c[0].length-1)))for(r=e;r<=t;r++)if(!(e<r&&c[0][r]==c[0][r-1])&&1<(o=Math.min(parseInt(c[0][r].getAttribute("colspan"),10)||1,t-e+1))&&c[0][r]==c[0][r+1])for(s=o-1,l=1;l<c.length;l++)if(c[l][r]!=c[l-1][r]){for(n=r;n<r+o;n++)if(c[l][n]!==undefined)if(1<(i=parseInt(c[l][n].getAttribute("colspan"),10)||1)&&c[l][n]==c[l][n+1])n+=s=Math.min(s,i-1);else if(!(s=Math.max(0,s-1)))break;if(!s)break}s&&M(c,s,"colspan",0,c.length-1,e,t)}function H(e,t,a){var l,r,n,o,i,s=0,c=V(a);if(e<(t=Math.min(t,c.length-1)))for(l=e;l<=t;l++)if(!(e<l&&c[l][0]==c[l-1][0])&&c[l][0]!==undefined&&1<(o=Math.min(parseInt(c[l][0].getAttribute("rowspan"),10)||1,t-e+1))&&c[l][0]==c[l+1][0])for(s=o-1,r=1;r<c[0].length;r++)if(c[l][r]!=c[l][r-1]){for(n=l;n<l+o;n++)if(c[n][r]!==undefined)if(1<(i=parseInt(c[n][r].getAttribute("rowspan"),10)||1)&&c[n][r]==c[n+1][r])n+=s=Math.min(s,i-1);else if(!(s=Math.max(0,s-1)))break;if(!s)break}s&&M(c,s,"rowspan",e,t,0,c[0].length-1)}function M(e,t,a,l,r,n,o){var i,s,c;for(i=l;i<=r;i++)for(s=n;s<=o;s++)l<i&&e[i][s]==e[i-1][s]||n<s&&e[i][s]==e[i][s-1]||e[i][s]!==undefined&&1<(c=parseInt(e[i][s].getAttribute(a),10)||1)&&(1<c-t?e[i][s].setAttribute(a,c-t):e[i][s].removeAttribute(a))}function S(e,t,a,l,r){H(e,t,r),v(a,l,r)}function D(e){e.style.removeProperty("border"),e.style.removeProperty("border-top"),e.style.removeProperty("border-bottom"),e.style.removeProperty("border-left"),e.style.removeProperty("border-right")}function V(e){var c=[];if(null==(e=e||null)&&0<pe().length&&(e=be()),e){if(!e.find("tr").html().match(/xl[0-9]+/gi))for(var t=e.find("tr:empty"),a=t.length-1;0<=a;a--)R(t[a]).remove();e.find("tr").not(e.find("> table tr")).each(function(i,e){var t=R(e),s=0;t.find("> th, > td").each(function(e,t){for(var a=R(t),l=parseInt(a.attr("colspan"),10)||1,r=parseInt(a.attr("rowspan"),10)||1,n=i;n<i+r;n++)for(var o=s;o<s+l;o++)c[n]||(c[n]=[]),c[n][o]?s++:c[n][o]=t;s+=l})})}return c}function $(e,t){for(var a=0;a<t.length;a++)for(var l=0;l<t[a].length;l++)if(t[a][l]==e)return{row:a,col:l}}function N(e,t,a){for(var l=e+1,r=t+1;l<a.length;){if(a[l][t]!=a[e][t]){l--;break}l++}for(l==a.length&&l--;r<a[e].length;){if(a[e][r]!=a[e][t]){r--;break}r++}return r==a[e].length&&r--,{row:l,col:r}}function _(){T.el.querySelector(".fr-cell-fixed")&&T.el.querySelector(".fr-cell-fixed").classList.remove("fr-cell-fixed"),T.el.querySelector(".fr-cell-handler")&&T.el.querySelector(".fr-cell-handler").classList.remove("fr-cell-handler")}function I(){var e=T.$el.find(".fr-selected-cell");0<e.length&&e.each(function(){var e=R(this);e.removeClass("fr-selected-cell"),""===e.attr("class")&&e.removeAttr("class")}),_()}function P(){T.events.disableBlur(),T.selection.clear(),T.$el.addClass("fr-no-selection"),T.$el.blur(),T.events.enableBlur()}function L(e){var t=T.$el.find(".fr-selected-cell");if(0<t.length){var a,l=e.length,r=0,n=e[0].length,o=0;for(a=0;a<t.length;a++){var i=$(t[a],e),s=N(i.row,i.col,e);l=Math.min(i.row,l),r=Math.max(s.row,r),n=Math.min(i.col,n),o=Math.max(s.col,o)}return{min_i:l,max_i:r,min_j:n,max_j:o}}return null}function k(e){var t=L(e);if(null!=t){var a=R(e[t.min_i][t.min_j]),l=R(e[t.min_i][t.max_j]),r=R(e[t.max_i][t.min_j]);return{left:a.length&&a.offset().left,right:l.length&&l.offset().left+l.outerWidth(),top:a.length&&a.offset().top,bottom:r.length&&r.offset().top+r.outerHeight()}}}function B(e,t){if(R(e).is(t))I(),R(e).addClass("fr-selected-cell");else{P(),T.edit.off();var a=V(),l=$(e,a),r=$(t,a);if(!l||!r)return;var n=function b(e,t,a,l,r){var n,o,i,s,c=e,d=t,f=a,p=l;for(n=c;n<=d;n++)(1<(parseInt(R(r[n][f]).attr("rowspan"),10)||1)||1<(parseInt(R(r[n][f]).attr("colspan"),10)||1))&&(s=N((i=$(r[n][f],r)).row,i.col,r),c=Math.min(i.row,c),d=Math.max(s.row,d),f=Math.min(i.col,f),p=Math.max(s.col,p)),(1<(parseInt(R(r[n][p]).attr("rowspan"),10)||1)||1<(parseInt(R(r[n][p]).attr("colspan"),10)||1))&&(s=N((i=$(r[n][p],r)).row,i.col,r),c=Math.min(i.row,c),d=Math.max(s.row,d),f=Math.min(i.col,f),p=Math.max(s.col,p));for(o=f;o<=p;o++)(1<(parseInt(R(r[c][o]).attr("rowspan"),10)||1)||1<(parseInt(R(r[c][o]).attr("colspan"),10)||1))&&(s=N((i=$(r[c][o],r)).row,i.col,r),c=Math.min(i.row,c),d=Math.max(s.row,d),f=Math.min(i.col,f),p=Math.max(s.col,p)),(1<(parseInt(R(r[d][o]).attr("rowspan"),10)||1)||1<(parseInt(R(r[d][o]).attr("colspan"),10)||1))&&(s=N((i=$(r[d][o],r)).row,i.col,r),c=Math.min(i.row,c),d=Math.max(s.row,d),f=Math.min(i.col,f),p=Math.max(s.col,p));return c==e&&d==t&&f==a&&p==l?{min_i:e,max_i:t,min_j:a,max_j:l}:b(c,d,f,p,r)}(Math.min(l.row,r.row),Math.max(l.row,r.row),Math.min(l.col,r.col),Math.max(l.col,r.col),a);I(),e.classList.add("fr-cell-fixed"),t.classList.add("fr-cell-handler");for(var o=n.min_i;o<=n.max_i;o++)for(var i=n.min_j;i<=n.max_j;i++)R(e).closest("table").is(R(a[o][i]).closest("table"))&&R(a[o][i]).addClass("fr-selected-cell")}}function F(e){var t=null,a=R(e.target);return"TD"==e.target.tagName||"TH"==e.target.tagName?t=e.target:0<a.closest("th",a.closest("thead")[0]).length?t=a.closest("th",a.closest("thead")[0]).get(0):0<a.closest("td",a.closest("tr")[0]).length&&(t=a.closest("td",a.closest("tr")[0]).get(0)),-1===T.$el.html.toString().search(t)?null:t}function K(){I(),T.popups.hide("table.edit")}function Y(e){var t=F(e);if("false"==R(t).parents("[contenteditable]").not(".fr-element").not(".fr-img-caption").not("body").first().attr("contenteditable"))return!0;if(0<pe().length&&!t&&K(),!T.edit.isDisabled()||T.popups.isVisible("table.edit"))if(1!=e.which||1==e.which&&T.helpers.isMac()&&e.ctrlKey)(3==e.which||1==e.which&&T.helpers.isMac()&&e.ctrlKey)&&t&&K();else if(i=!0,t){0<pe().length&&!e.shiftKey&&K(),e.stopPropagation(),T.events.trigger("image.hideResizer"),T.events.trigger("video.hideResizer"),o=!0;var a=t.tagName.toLowerCase();e.shiftKey&&0<T.$el.find("".concat(a,".fr-selected-cell")).length?R(T.$el.find("".concat(a,".fr-selected-cell")).closest("table")).is(R(t).closest("table"))?B(l,t):P():((T.keys.ctrlKey(e)||e.shiftKey)&&"TD"===e.currentTarget.tagName&&(1<pe().length||0===R(t).find(T.selection.element()).length&&!R(t).is(T.selection.element()))&&P(),l=t,0<T.opts.tableEditButtons.length&&B(l,l))}}function W(e){var t=T.popups.areVisible();if(!T.edit.isDisabled()&&t&&!t.hasClass("fr-do-not-hide"))return!0;var a=F(e);if(1===pe().length&&null===a&&(T.toolbar.enable(),I()),(1===pe().length&&a&&"TD"!==a.tagName&&"TH"!==a.tagName||!o&&!T.$tb.is(e.target)&&!T.$tb.is(R(e.target).closest(".fr-toolbar")))&&(T.toolbar.enable(),I()),("BODY"===e.target.tagName||"HTML"===e.target.tagName)&&!a&&0<pe().length&&T.toolbar.enable(),!(1!=e.which||1==e.which&&T.helpers.isMac()&&e.ctrlKey)){if(i=!1,o)if(o=!1,F(e)||1!=pe().length)if(0<pe().length){if(T.browser.mozilla&&!T.selection.isCollapsed()){var l=pe()[pe().length-1],r=T.doc.createRange();T.selection.get().removeAllRanges(),r.setStart(l,0),r.setEnd(l,0),r.collapse(),T.selection.get().addRange(r)}T.selection.isCollapsed()?(C(),T.toolbar.enable()):(I(),T.edit.on())}else pe().length||(T.$el.removeClass("fr-no-selection"),T.edit.on());else I();if(E){E=!1,x.removeClass("fr-moving"),T.$el.removeClass("fr-no-selection"),T.edit.on();var n=parseFloat(x.css("left"))+T.opts.tableResizerOffset+T.$wp.offset().left;T.opts.iframe&&(n-=T.$iframe.offset().left),x.data("release-position",n),x.removeData("max-left"),x.removeData("max-right"),function A(){var e=x.data("origin"),t=x.data("release-position");if(e!==t){var a=x.data("first"),l=x.data("second"),r=x.data("table"),n=r.outerWidth();if(T.undo.canDo()||T.undo.saveStep(),null!=a&&null!=l){var o,i,s,c=V(r),d=[],f=[],p=[],b=[];for(o=0;o<c.length;o++)i=R(c[o][a]),s=R(c[o][l]),d[o]=i.outerWidth(),p[o]=s.outerWidth(),f[o]=d[o]/n*100,b[o]=p[o]/n*100;for(o=0;o<c.length;o++)if(i=R(c[o][a]),s=R(c[o][l]),c[o][a]!=c[o][l]){var h=(f[o]*(d[o]+t-e)/d[o]).toFixed(4);i.css("width",h+"%"),s.css("width",(f[o]+b[o]-h).toFixed(4)+"%")}}else{var u,g=r.parent(),v=parseFloat(g.css("padding-left")),m=parseFloat(g.css("padding-right")),C=v+m,w=n/(g.width()-C)*100,y=(parseInt(r.css("margin-left"),10)||0)/g.width()*100,E=(parseInt(r.css("margin-right"),10)||0)/g.width()*100;"rtl"==T.opts.direction&&0===l||"rtl"!=T.opts.direction&&0!==l?(u=(n+t-e)/n*w,r.css("margin-right","calc(100% - ".concat(Math.round(u).toFixed(4),"% - ").concat(Math.round(y).toFixed(4),"%)"))):("rtl"==T.opts.direction&&0!==l||"rtl"!=T.opts.direction&&0===l)&&(u=(n-t+e)/n*w,r.css("margin-left","calc(100% - ".concat(Math.round(u).toFixed(4),"% - ").concat(Math.round(E).toFixed(4),"%)"))),r.css("width","".concat(Math.round(u).toFixed(4),"%"))}T.selection.restore(),T.undo.saveStep(),T.events.trigger("table.resized",[r.get(0)])}x.removeData("origin"),x.removeData("release-position"),x.removeData("first"),x.removeData("second"),x.removeData("table")}(),U()}}}function z(e){if((!(R(e.currentTarget).is(R(e.originalEvent.relatedTarget))||e.currentTarget.contains(e.originalEvent.relatedTarget)||e.originalEvent.relatedTarget&&e.originalEvent.relatedTarget.contains(e.currentTarget))||e.currentTarget.querySelector("input, textarea"))&&(T.events.$on(R("input, textarea"),"click",t),!0===o&&0<T.opts.tableEditButtons.length)){if(R(e.currentTarget).closest("table").is(be()))return void B(l,e.currentTarget);"TD"!==e.currentTarget.tagName&&"TH"!==e.currentTarget.tagName&&P()}}function Z(e,t,a,l){for(var r,n=t;n!=T.el&&"TD"!=n.tagName&&"TH"!=n.tagName&&("up"==l?r=n.previousElementSibling:"down"==l&&(r=n.nextElementSibling),!r);)n=n.parentNode;"TD"==n.tagName||"TH"==n.tagName?function o(e,t){for(var a=e;a&&"TABLE"!=a.tagName&&a.parentNode!=T.el;)a=a.parentNode;if(a&&"TABLE"==a.tagName){var l=V(R(a));"up"==t?j($(e,l),a,l):"down"==t&&G($(e,l),a,l)}}(n,l):r&&("up"==l&&T.selection.setAtEnd(r),"down"==l&&T.selection.setAtStart(r))}function j(e,t,a){0<R(".tribute-container").length&&"none"!=R(".tribute-container").css("display")||(0<e.row?T.selection.setAtEnd(a[e.row-1][e.col]):Z(0,t,0,"up"))}function G(e,t,a){if(!(0<R(".tribute-container").length&&"none"!=R(".tribute-container").css("display"))){var l=parseInt(a[e.row][e.col].getAttribute("rowspan"),10)||1;e.row<a.length-l?T.selection.setAtStart(a[e.row+l][e.col]):Z(0,t,0,"down")}}function X(e){var t=e.which,a=T.selection.blocks();if(a.length&&("P"!==(a=a[0]).tagName&&"DIV"!==a.tagName||(a=a.parentNode),"TD"==a.tagName||"TH"==a.tagName)){for(var l=a;l&&"TABLE"!=l.tagName&&l.parentNode!=T.el;)l=l.parentNode;if(l&&"TABLE"==l.tagName&&(ke.KEYCODE.ARROW_LEFT==t||ke.KEYCODE.ARROW_UP==t||ke.KEYCODE.ARROW_RIGHT==t||ke.KEYCODE.ARROW_DOWN==t)&&(0<pe().length&&K(),T.browser.webkit&&(ke.KEYCODE.ARROW_UP==t||ke.KEYCODE.ARROW_DOWN==t))){if(!function p(e,t,a){if(!e)return!1;var l="TD"===e.tagName||"TH"===e.tagName?e:R(e).parentsUntil(T.el,"td, th").get(0);if(!l)return!1;if(l.textContent.trim().length<=0&&1===l.children.length&&"BR"===l.children[0].tagName)return!0;if(("TD"===l.tagName||"TH"===l.tagName)&&e&&e.nodeType!==Node.TEXT_NODE)if(e.children&&0<e.children.length){var r=t>e.children.length?e.children.length-1:t-1,n=e.children[r]||e.firstChild;n&&"string"==typeof n.textContent&&(t=(e=n).textContent.trim().length-1)}else e.firstChild&&"string"==typeof e.firstChild.textContent&&(e=e.firstChild,t=e.textContent.trim().length-1);var o=document.createRange();o.selectNodeContents(l);var i,s=o.getBoundingClientRect();if(e.textContent.trim().length<=0&&e.getBoundingClientRect)i=e.getBoundingClientRect();else{var c=e;e.nodeType!==Node.TEXT_NODE&&(c=function f(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1),a=null;for(;t.nextNode();)a=t.currentNode;return a}(e),t=c&&"up"===a?c.textContent.length:0);var d=document.createRange();d.setStart(c||e,t),d.collapse(!0),i=d.getBoundingClientRect()}{if("up"===a){if("BR"===e.tagName){if(l.firstChild.isSameNode(e))return!0;if(e.previousSibling&&(T.node.isBlock(e.previousSibling)||T.node.isVoid(e.previousSibling)))return!1}return Math.abs(i.top-s.top)<=6}if("down"===a){if("BR"===e.tagName){if(l.lastChild.isSameNode(e))return!0;if(e.nextSibling&&(T.node.isBlock(e.nextSibling)||T.node.isVoid(e.nextSibling)))return l.lastChild.isSameNode(e.nextSibling)||!1}return Math.abs(s.bottom-i.bottom)<=6}}return!1}(T.selection.ranges(0).startContainer,T.selection.ranges(0).startOffset,ke.KEYCODE.ARROW_UP==t?"up":"down"))return;e.preventDefault(),e.stopPropagation();var r=V(R(l)),n=$(a,r);return ke.KEYCODE.ARROW_UP==t?j(n,l,r):ke.KEYCODE.ARROW_DOWN==t&&G(n,l,r),T.selection.restore(),!1}}}function U(){x&&(x.find("div").css("opacity",0),x.css("top",0),x.css("left",0),x.css("height",0),x.find("div").css("height",0),x.hide())}function q(){c&&c.removeClass("fr-visible").css("left","-9999px")}function a(e,t){var a,l=R(t);l&&(a=l.closest("table"));var r=a.parent();if(t&&"TD"!=t.tagName&&"TH"!=t.tagName&&(0<l.closest("td").length?t=l.closest("td"):0<l.closest("th").length&&(t=l.closest("th"))),!t||"TD"!=t.tagName&&"TH"!=t.tagName)x&&l.get(0)!=x.get(0)&&l.parent().get(0)!=x.get(0)&&T.core.sameInstance(x)&&U();else{if(l=R(t),0===T.$el.find(l).length)return!1;var n=l.offset().left-1,o=n+l.outerWidth();if(Math.abs(e.pageX-n)<=T.opts.tableResizerOffset||Math.abs(o-e.pageX)<=T.opts.tableResizerOffset){var i,s,c,d,f,p=V(a),b=$(t,p),h=N(b.row,b.col,p),u=a.offset().top,g=a.outerHeight()-1;"rtl"!=T.opts.direction?e.pageX-n<=T.opts.tableResizerOffset?(c=n,0<b.col?(d=n-oe(b.col-1,p)+T.opts.tableResizingLimit,f=n+oe(b.col,p)-T.opts.tableResizingLimit,i=b.col-1,s=b.col):(i=null,s=0,d=a.offset().left-1-parseInt(a.css("margin-left"),10),f=a.offset().left-1+a.width()-p[0].length*T.opts.tableResizingLimit)):o-e.pageX<=T.opts.tableResizerOffset&&(c=o,h.col<p[h.row].length&&p[h.row][h.col+1]?(d=o-oe(h.col,p)+T.opts.tableResizingLimit,f=o+oe(h.col+1,p)-T.opts.tableResizingLimit,i=h.col,s=h.col+1):(i=h.col,s=null,d=a.offset().left-1+p[0].length*T.opts.tableResizingLimit,f=r.offset().left-1+r.width()+parseFloat(r.css("padding-left")))):o-e.pageX<=T.opts.tableResizerOffset?(c=o,0<b.col?(d=o-oe(b.col,p)+T.opts.tableResizingLimit,f=o+oe(b.col-1,p)-T.opts.tableResizingLimit,i=b.col,s=b.col-1):(i=null,s=0,d=a.offset().left+p[0].length*T.opts.tableResizingLimit,f=r.offset().left-1+r.width()+parseFloat(r.css("padding-left")))):e.pageX-n<=T.opts.tableResizerOffset&&(c=n,h.col<p[h.row].length&&p[h.row][h.col+1]?(d=n-oe(h.col+1,p)+T.opts.tableResizingLimit,f=n+oe(h.col,p)-T.opts.tableResizingLimit,i=h.col+1,s=h.col):(i=h.col,s=null,d=r.offset().left+parseFloat(r.css("padding-left")),f=a.offset().left-1+a.width()-p[0].length*T.opts.tableResizingLimit)),x||function y(){T.shared.$table_resizer||(T.shared.$table_resizer=R(document.createElement("div")).attr("class","fr-table-resizer").html("<div></div>")),x=T.shared.$table_resizer,T.events.$on(x,"mousedown",function(e){return!T.core.sameInstance(x)||(0<pe().length&&K(),1==e.which?(T.selection.save(),E=!0,x.addClass("fr-moving"),P(),T.edit.off(),x.find("div").css("opacity",1),!1):void 0)}),T.events.$on(x,"mousemove",function(e){if(!T.core.sameInstance(x))return!0;E&&(T.opts.iframe&&(e.pageX-=T.$iframe.offset().left),se(e))});var t=function t(e){E&&W(e)};window.addEventListener("mouseup",t,!0),T.events.on("destroy",function(){window.removeEventListener("mouseup",t,!0)},!0),T.events.on("shared.destroy",function(){x.html("").removeData().remove(),x=null},!0),T.events.on("destroy",function(){T.$el.find(".fr-selected-cell").removeClass("fr-selected-cell"),R("body").first().append(x.hide())},!0)}(),x.data("table",a),x.data("first",i),x.data("second",s),x.data("instance",T),T.$wp.append(x);var v=c-T.win.pageXOffset-T.opts.tableResizerOffset-T.$wp.offset().left,m=u-T.$wp.offset().top+T.$wp.scrollTop();if(T.opts.iframe){var C=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-top")),w=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-left"));v+=T.$iframe.offset().left+w,m+=T.$iframe.offset().top+C,d+=T.$iframe.offset().left,f+=T.$iframe.offset().left}x.data("max-left",d),x.data("max-right",f),x.data("origin",c-T.win.pageXOffset),x.css("top",m),x.css("left",v),x.css("height",g),x.find("div").css("height",g),x.css("padding-left",T.opts.tableResizerOffset),x.css("padding-right",T.opts.tableResizerOffset),x.show()}else T.core.sameInstance(x)&&U()}}function J(e,t){if(T.$box.find(".fr-line-breaker").isVisible())return!1;c||de(),T.$box.append(c),c.data("instance",T);var a,l=R(t).find("tr").first(),r=e.pageX,n=0,o=0;if(T.opts.iframe){var i=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-top")),s=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-left"));n+=T.$iframe.offset().left-T.helpers.scrollLeft()+s,o+=T.$iframe.offset().top-T.helpers.scrollTop()+i}l.find("th, td").each(function(){var e=R(this);return e.offset().left<=r&&r<e.offset().left+e.outerWidth()/2?(a=parseInt(c.find("a").css("width"),10),c.css("top",o+e.offset().top-T.$box.offset().top-a-5),c.css("left",n+e.offset().left-T.$box.offset().left-a/2),c.data("selected-cell",e),c.data("position","before"),c.addClass("fr-visible"),!1):e.offset().left+e.outerWidth()/2<=r&&r<e.offset().left+e.outerWidth()?(a=parseInt(c.find("a").css("width"),10),c.css("top",o+e.offset().top-T.$box.offset().top-a-5),c.css("left",n+e.offset().left-T.$box.offset().left+e.outerWidth()-a/2),c.data("selected-cell",e),c.data("position","after"),c.addClass("fr-visible"),!1):void 0})}function Q(e,t){if(T.$box.find(".fr-line-breaker").isVisible())return!1;c||de(),T.$box.append(c),c.data("instance",T);var a,l=R(t),r=e.pageY,n=0,o=0;if(T.opts.iframe){var i=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-top")),s=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-left"));n+=T.$iframe.offset().left-T.helpers.scrollLeft()+s,o+=T.$iframe.offset().top-T.helpers.scrollTop()+i}l.find("tr").each(function(){var e=R(this);a=parseInt(c.find("a").css("width"),10);var t=n+e.offset().left-T.$box.offset().left;return t=0!==T.$box.offset().left?t-a-5:t+a-5,e.offset().top<=r&&r<e.offset().top+e.outerHeight()/2?(c.css("top",o+e.offset().top-T.$box.offset().top-a/2),c.css("left",t),c.data("selected-cell",e.find("td").first()),c.data("position","above"),c.addClass("fr-visible"),!1):e.offset().top+e.outerHeight()/2<=r&&r<e.offset().top+e.outerHeight()?(c.css("top",o+e.offset().top-T.$box.offset().top+e.outerHeight()-a/2),c.css("left",t),c.data("selected-cell",e.find("td").first()),c.data("position","below"),c.addClass("fr-visible"),!1):void 0})}function ee(e,t){var a=R(e);a.removeClass(t),a.length&&a.get(0).hasAttribute("class")&&!a.attr("class").trim()&&a.removeAttr("class")}function te(){s[T.id]&&(ee(s[T.id],"fr-table-selector-active fr-table-selector-active-selected"),s[T.id].addClass("fr-table-selector-inactive"),ee(T.$el.find("table.fr-table-selection-hover"),"fr-table-selection-hover"))}function ae(){ee(T.$el.find("table.fr-table-selected"),"fr-table-selected fr-table-selection-hover"),te()}function le(e){T.$box.append(s[T.id]),s[T.id].data("instance",T);var t=e.offset().left-T.$box.offset().left+16,a=e.offset().top-T.$box.offset().top-s[T.id].outerHeight();if(T.opts.iframe){var l=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-top")),r=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-left"));t+=T.$iframe.offset().left-T.helpers.scrollLeft()+r,a+=T.$iframe.offset().top-T.helpers.scrollTop()+l}s[T.id].css("top",a),s[T.id].css("left",t)}function re(e){r=null;var t=T.doc.elementFromPoint(e.pageX-T.win.pageXOffset,e.pageY-T.win.pageYOffset);T.opts.tableResizer&&(!T.popups.areVisible()||T.popups.areVisible()&&T.popups.isVisible("table.edit"))&&a(e,t),!T.opts.tableInsertHelper||T.popups.areVisible()||T.$tb.hasClass("fr-inline")&&T.$tb.isVisible()||function n(e,t){if(0===pe().length){var a,l,r;if(t&&("HTML"==t.tagName||"BODY"==t.tagName||T.node.isElement(t)))for(a=1;a<=T.opts.tableInsertHelperOffset;a++){if(l=T.doc.elementFromPoint(e.pageX-T.win.pageXOffset,e.pageY-T.win.pageYOffset+a),R(l).hasClass("fr-tooltip"))return!0;if(l&&("TH"==l.tagName||"TD"==l.tagName||"TABLE"==l.tagName)&&(R(l).parents(".fr-wrapper").length||T.opts.iframe)&&"false"!=R(l).closest("table").attr("contenteditable"))return J(e,R(l).closest("table")),!0;if(r=T.doc.elementFromPoint(e.pageX-T.win.pageXOffset+a,e.pageY-T.win.pageYOffset),R(r).hasClass("fr-tooltip"))return!0;if(r&&("TH"==r.tagName||"TD"==r.tagName||"TABLE"==r.tagName)&&(R(r).parents(".fr-wrapper").length||T.opts.iframe)&&"false"!=R(r).closest("table").attr("contenteditable"))return Q(e,R(r).closest("table")),!0}T.core.sameInstance(c)&&q()}}(e,t),function o(e,t){var a=R(t),l=T.$el.find("table.fr-table-selection-hover"),r=T.$el.find("table.fr-table-selected");if(T.node.isElement(t)||T.node.isElement(a.parents(".fr-view").first().get(0))||T.core.sameInstance(a)||T.core.sameInstance(a.parents("div.fr-table-selector"))){if(!a.parents(".fr-table-selector").length){var n=a.closest("table").filter(function(){return!(!T.$el||!T.$el.length)&&T.$el.get(0).contains(this)});n.length?(le(n),s[T.id].addClass("fr-table-selector-active"),ee(s[T.id],"fr-table-selector-inactive"),ee(l,"fr-table-selection-hover"),r.length&&s[T.id].toggleClass("fr-table-selector-active-selected",r.get(0)===n.get(0)),n.addClass("fr-table-selection-hover")):l.length&&Math.abs(l.offset().top-e.pageY)<5||s[T.id].hasClass("fr-table-selector-inactive")||te()}}else r.length||te()}(e,t)}function ne(){if(E){var e=x.data("table").offset().top-T.win.pageYOffset;if(T.opts.iframe){var t=T.helpers.getPX(T.$wp.find(".fr-iframe").css("padding-top"));e+=T.$iframe.offset().top-T.helpers.scrollTop()+t}x.css("top",e)}}function oe(e,t){var a,l=R(t[0][e]).outerWidth();for(a=1;a<t.length;a++)l=Math.min(l,R(t[a][e]).outerWidth());return l}function ie(e,t,a){var l,r=0;for(l=e;l<=t;l++)r+=oe(l,a);return r}function se(e){if(1<pe().length&&i&&P(),!1===i&&!1===o&&!1===E)r&&clearTimeout(r),T.edit.isDisabled()&&!T.popups.isVisible("table.edit")||(r=setTimeout(re,30,e));else if(E){var t=e.pageX-T.win.pageXOffset;T.opts.iframe&&(t+=T.$iframe.offset().left);var a=x.data("max-left"),l=x.data("max-right");a<=t&&t<=l?x.css("left",t-T.opts.tableResizerOffset-T.$wp.offset().left):t<a&&parseFloat(x.css("left"),10)>a-T.opts.tableResizerOffset?x.css("left",a-T.opts.tableResizerOffset-T.$wp.offset().left):l<t&&parseFloat(x.css("left"),10)<l-T.opts.tableResizerOffset&&x.css("left",l-T.opts.tableResizerOffset-T.$wp.offset().left)}else i&&q()}function ce(e){T.node.isEmpty(e.get(0))?T.opts.keepTextFormatOnTable&&T.browser.mozilla?e.append(ke.MARKERS):e.prepend(ke.MARKERS):e.prepend(ke.START_MARKER).append(ke.END_MARKER)}function de(){T.shared.$ti_helper||(T.shared.$ti_helper=R(document.createElement("div")).attr("class","fr-insert-helper").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(T.language.translate("Insert"),'"><svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M22,16.75 L16.75,16.75 L16.75,22 L15.25,22.000 L15.25,16.75 L10,16.75 L10,15.25 L15.25,15.25 L15.25,10 L16.75,10 L16.75,15.25 L22,15.25 L22,16.75 Z"/></svg></a>')),T.events.bindClick(T.shared.$ti_helper,"a",function(){var e=c.data("selected-cell"),t=c.data("position"),a=c.data("instance")||T;"before"==t?(T.undo.saveStep(),e.addClass("fr-selected-cell"),a.table.insertColumn(t),e.removeClass("fr-selected-cell"),T.undo.saveStep()):"after"==t?(T.undo.saveStep(),e.addClass("fr-selected-cell"),a.table.insertColumn(t),e.removeClass("fr-selected-cell"),T.undo.saveStep()):"above"==t?(T.undo.saveStep(),e.addClass("fr-selected-cell"),a.table.insertRow(t),e.removeClass("fr-selected-cell"),T.undo.saveStep()):"below"==t&&(T.undo.saveStep(),e.addClass("fr-selected-cell"),a.table.insertRow(t),e.removeClass("fr-selected-cell"),T.undo.saveStep()),q()}),T.events.on("shared.destroy",function(){T.shared.$ti_helper.html("").removeData().remove(),T.shared.$ti_helper=null},!0),T.events.$on(T.shared.$ti_helper,"mousemove",function(e){e.stopPropagation()},!0),T.events.$on(R(T.o_win),"scroll",function(){q()},!0),T.events.$on(T.$wp,"scroll",function(){q()},!0)),c=T.shared.$ti_helper,T.events.on("destroy",function(){c=null}),T.tooltip.bind(T.$box,".fr-insert-helper > a.fr-floating-btn")}function fe(){l=null,clearTimeout(r)}function pe(){return T.el.querySelectorAll(".fr-selected-cell")}function be(){var e=pe(),t=T.$el.find("table.fr-table-selected");if(e.length){for(var a=e[0];a&&"TABLE"!=a.tagName&&a.parentNode!=T.el;)a=a.parentNode;return a&&"TABLE"==a.tagName?R(a):R([])}return t.length?R(t.get(0)):R([])}function he(e){var t=T.popups.get("table.tableProperties"),a=t.find(".fr-table-alignment-container"),l=a.find(".fr-table-".concat(e,"-align")).get(0);a.find(".fr-table-left-align").get(0).innerHTML=T.icon.create("leftTableAlign"),a.find(".fr-table-center-align").get(0).innerHTML=T.icon.create("centerTableAlign"),a.find(".fr-table-right-align").get(0).innerHTML=T.icon.create("rightTableAlign"),l.innerHTML=T.icon.create("".concat(e,"TableAlignActive")),l.focus(),t.data("tableAlign",e)}function ue(){var e={buttons:"",table_properties_form:'\n         <div class="fr-table-properties-form">\n            <div class="fr-table-properties-section">\n              <label>Background</label>\n              <div class="fr-table-bg-container">\n                <div class="fr-input-line">\n                  <input type="text" title="'.concat(T.language.translate("Custom background color input"),'" id="fr-table-bg" class="fr-input" placeholder="Color" tabIndex="1" aria-required="true">\n                </div>\n                <button title="').concat(T.language.translate("Background color picker"),'" role="button" type="button" class="fr-command fr-enable-accessibility fr-btn-table-bg-color" data-param1="table" tabIndex="2" data-cmd="openColorPicker">\n                  <div class="fr-color-preview">\n                    <div class="fr-color-preview-indicator"></div>\n                  </div>\n                </button>\n              </div>\n              <label>Border</label>\n              <div class="fr-table-border-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">Style</label>\n                  <div class= "fr-buttons fr-border-style"> ').concat(T.button.build("tableBorderStyle",ke.COMMANDS.tableBorderStyle,!0),'</div>\n                </div>\n                <div class="fr-input-line">\n                  <input  title="').concat(T.language.translate("Custom border color input"),'" id="fr-table-border-color" class="fr-input" type="text" placeholder="Color" tabIndex="3" aria-required="true">\n                </div>\n                <button  title="').concat(T.language.translate("Border color picker"),'" role="button" type="button" class="fr-command fr-btn-table-border-bg-color fr-enable-accessibility" tabIndex="4" data-param1="border" data-cmd="openColorPicker">\n                  <div class="fr-border-color-preview">\n                    <div class="fr-border-color-preview-indicator"></div>\n                  </div>\n                </button>\n                <div class="fr-input-line">\n                  <input  title="').concat(T.language.translate("Border width"),'" id="fr-table-border-width" type="text" class="fr-input" placeholder="Width" tabIndex="5" aria-required="true">\n                </div>\n              </div>\n              <div class="fr-table-dimentions-section">\n                <div>\n                  <label>Dimentions</label>\n                  <div class="fr-table-dimentions-container">\n                    <div class="fr-input-line">\n                      <input title="').concat(T.language.translate("Table width"),'" type="text" id="fr-table-width" placeholder="Width" tabIndex="6">\n                    </div>\n                    <span class="fr-dimension-separator">\xd7</span>\n                    <div class="fr-input-line">\n                      <input title="').concat(T.language.translate("Table height"),'" type="text" id="fr-table-height" placeholder="Height" tabIndex="7">\n                    </div>\n                  </div>\n                </div>\n                <div class="fr-table-alignment-section">\n                  <label>Alignment</label>\n                  <div class="fr-table-alignment-container">\n                    <button title="').concat(T.language.translate("Left align"),'" class="fr-enable-accessibility fr-command fr-table-left-align" data-param1="left" data-cmd="tableAlign" tabIndex="8">').concat(T.icon.create("leftTableAlign"),'</button>\n                    <button title="').concat(T.language.translate("Center align"),'" class="fr-enable-accessibility fr-command fr-table-center-align" data-param1="center" data-cmd="tableAlign" tabIndex="9">').concat(T.icon.create("centerTableAlign"),'</button>\n                    <button title="').concat(T.language.translate("Right align"),'" class="fr-enable-accessibility fr-command fr-table-right-align" data-param1="right" data-cmd="tableAlign" tabIndex="10">').concat(T.icon.create("rightTableAlign"),'</button>\n                  </div>\n                </div>\n              </div>\n              <label>Table style</label>\n              <div class="fr-table-style-container">\n                <div class="fr-input-line">\n                  <label class="fr-field-lable">Style</label>\n                  <div class= "fr-buttons fr-table-style"> ').concat(T.button.build("tableStyle",ke.COMMANDS.tableStyle,!0),'</div>\n                </div>\n              </div>\n            </div>\n            <div class="fr-table-properties-buttons">\n              <button title="').concat(T.language.translate("Cancel"),'" role="button" type="button" class="fr-enable-accessibility fr-command fr-cancel-button" tabIndex="11" data-cmd="onCancel">Cancel</button>\n              <button title="').concat(T.language.translate("Save"),'" role="button" type="button" class="fr-enable-accessibility fr-command fr-save-button" tabIndex="12" data-cmd="applyTableProperties">Save</button>\n            </div>\n          </div>\n        ')},n=T.popups.create("table.tableProperties",e),t=function t(e,l,r){n.find(e).on("keydown",function(t){var e=R(t.target),a=t.which;a!==ke.KEYCODE.ENTER&&a!==ke.KEYCODE.ARROW_DOWN&&a!==ke.KEYCODE.SPACE||e.hasClass("fr-active")||!e.is("button")||(l&&r&&T.button.click(e),t.preventDefault(),t.stopPropagation()),setTimeout(function(){if(a===ke.KEYCODE.TAB&&l&&r){var e=t.shiftKey?n.find(l):n.find(r);e&&e.length&&e.focus(),t.preventDefault(),t.stopPropagation()}},10)})};return t(".fr-border-style > button",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-border-style > .fr-dropdown-menu li",".fr-btn-table-bg-color","#fr-table-border-color"),t(".fr-table-style > button",".fr-table-right-align",".fr-cancel-button"),t(".fr-table-style > .fr-dropdown-menu li",".fr-table-right-align",".fr-cancel-button"),t(".fr-save-button",".fr-cancel-button","#fr-table-bg"),n}function t(){o=!1}return{_init:function ge(){if(!T.$wp)return!1;if(T.helpers.isMobile()&&(T.events.$on(T.$el,"mousedown",Y),T.events.$on(T.$win,"mouseup",W)),!T.helpers.isMobile()){E=o=i=!1,T.events.$on(T.$el,"mousedown",Y),T.popups.onShow("image.edit",function(){I(),o=i=!1}),T.popups.onShow("link.edit",function(){I(),o=i=!1}),T.events.$on(T.$el,"mouseover","th, td",z),T.events.$on(T.$win,"mouseup",W),T.opts.iframe&&T.events.$on(R(T.o_win),"mouseup",W),T.events.$on(T.$win,"mousemove",se),T.events.$on(R(T.o_win),"scroll",ne),T.events.on("contentChanged",function(){te(),0<pe().length&&!T.popups.isVisible("table.tableProperties")&&(C(),T.$el.find("img").on("load.selected-cells",function(){R(this).off("load.selected-cells"),0<pe().length&&C()}))}),T.events.$on(R(T.o_win),"resize",function(){I()}),T.events.on("toolbar.esc",function(){if(0<pe().length)return T.events.disableBlur(),T.events.focus(),!1},!0),T.events.$on(R(T.o_win),"keydown",function(){i&&o&&(o=i=!1,T.$el.removeClass("fr-no-selection"),T.edit.on(),T.selection.setAtEnd(T.$el.find(".fr-selected-cell").last().get(0)),T.selection.restore(),I())}),T.events.$on(T.$el,"keydown",function(e){e.shiftKey?!1===function o(e){var t=pe();if(null!=t&&0<t.length){var a,l=V(),r=e.which,n=$(1==t.length?a=t[0]:(a=T.el.querySelector(".fr-cell-fixed"),T.el.querySelector(".fr-cell-handler")),l);if(ke.KEYCODE.ARROW_RIGHT==r){if(n.col<l[0].length-1)return B(a,l[n.row][n.col+1]),!1}else if(ke.KEYCODE.ARROW_DOWN==r){if(n.row<l.length-1)return B(a,l[n.row+1][n.col]),!1}else if(ke.KEYCODE.ARROW_LEFT==r){if(0<n.col)return B(a,l[n.row][n.col-1]),!1}else if(ke.KEYCODE.ARROW_UP==r&&0<n.row)return B(a,l[n.row-1][n.col]),!1}}(e)&&setTimeout(function(){C()},0):X(e)}),T.events.on("keydown",function(e){if(!1===function v(e){if(e.which==ke.KEYCODE.TAB){var t;if(0<pe().length)t=T.$el.find(".fr-selected-cell").last();else{var a=T.selection.element();"TD"==a.tagName||"TH"==a.tagName?t=R(a):a!=T.el&&(0<R(a).parentsUntil(T.$el,"td").length?t=R(a).parents("td").first():0<R(a).parentsUntil(T.$el,"th").length&&(t=R(a).parents("th").first()))}if(t)return e.preventDefault(),!!(0===T.selection.get().focusOffset&&0<R(T.selection.element()).parentsUntil(T.$el,"ol, ul").length&&(0<R(T.selection.element()).closest("li").prev().length||R(T.selection.element()).is("li")&&0<R(T.selection.element()).prev().length))||(K(),e.shiftKey?0<t.prev().length?ce(t.prev()):0<t.closest("tr").length&&0<t.closest("tr").prev().length?ce(t.closest("tr").prev().find("td").last()):0<t.closest("tbody").length&&0<t.closest("table").find("thead tr").length&&ce(t.closest("table").find("thead tr th").last()):0<t.next().length?ce(t.next()):0<t.closest("tr").length&&0<t.closest("tr").next().length?ce(t.closest("tr").next().find("td").first()):0<t.closest("thead").length&&0<t.closest("table").find("tbody tr").length?ce(t.closest("table").find("tbody tr td").first()):(t.addClass("fr-selected-cell"),O("below"),I(),ce(t.closest("tr").next().find("td").first())),T.selection.restore(),!1)}}(e))return!1;var t=function t(){I(),ae(),e.preventDefault(),e.stopPropagation()},a=T.$el.find("table.fr-table-selected"),l=e.which;if(a.length&&!T.keys.isArrow(e.which)&&l!==ke.KEYCODE.TAB&&l!==ke.KEYCODE.ALT&&l!==ke.KEYCODE.ESC){if(e.ctrlKey||e.metaKey||l===ke.KEYCODE.SHIFT)return!0;y(),T.undo.saveStep(),t();var r=T.html.defaultTag();if(l===ke.KEYCODE.ENTER||T.keys.isCharacter(l)&&!e.ctrlKey&&!e.metaKey){var n,o=l===ke.KEYCODE.ENTER;n=r?o?"<".concat(r,' id="cursor-marker"></').concat(r,">"):"<".concat(r,' id="cursor-marker"> ').concat(l===ke.KEYCODE.SPACE?"&nbsp;":e.key,"</").concat(r,">"):o?'<br id="cursor-marker">':"".concat(l===ke.KEYCODE.SPACE?"&nbsp;":e.key,' <br id="cursor-marker">'),T.html.insert(n,!0,!0);var i=T.$el.find("#cursor-marker").get(0);i&&i.parentNode&&setTimeout(function(){var e=T.doc.createRange();e.setStart(i,o?0:1),e.setEnd(i,o?0:1),e.collapse(!0);var t=T.selection.get();t.removeAllRanges(),t.addRange(e),T.$el.focus()},0),i.removeAttribute("id")}return!1}if(a.length&&T.keys.isArrow(e.which)){var s=e.which===ke.KEYCODE.ARROW_DOWN||e.which===ke.KEYCODE.ARROW_RIGHT,c=e.which===ke.KEYCODE.ARROW_UP||e.which===ke.KEYCODE.ARROW_LEFT;if(s||c){var d=s?a.next():a.prev();if(d&&d.length&&d[0].nodeType===Node.ELEMENT_NODE){var f=d[0];if("UL"===f.tagName||"OL"===f.tagName){var p=f.querySelectorAll("li");0<p.length&&(f=p[p.length-1])}(0===f.childNodes.length||1===f.childNodes.length&&"BR"===f.firstChild.nodeName)&&(f.innerHTML="",f.appendChild(document.createTextNode("\u200b")));var b=T.doc.createRange();s?b.setStartBefore(d[0]):(b.selectNodeContents(f),b.collapse(!1));var h=T.selection.get();h.removeAllRanges(),h.addRange(b),setTimeout(function(){T.events.disableBlur(),T.$el[0].focus(),T.events.enableBlur()},0)}}return t(),!1}!(e.ctrlKey||e.metaKey)&&a.length&&(I(),ae()),te();var u=pe();if(0<u.length){if(0<u.length&&T.keys.ctrlKey(e)&&e.which==ke.KEYCODE.A)return I(),T.popups.isVisible("table.edit")&&T.popups.hide("table.edit"),u=[],!0;if(e.which==ke.KEYCODE.ESC&&T.popups.isVisible("table.edit"))return I(),T.popups.hide("table.edit"),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!(u=[]);if(1<u.length&&(e.which==ke.KEYCODE.BACKSPACE||e.which==ke.KEYCODE.DELETE)){T.undo.saveStep();for(var g=0;g<u.length;g++)R(u[g]).html("<br>"),g==u.length-1&&R(u[g]).prepend(ke.MARKERS);return T.selection.restore(),T.undo.saveStep(),!(u=[])}if(1<u.length&&e.which!=ke.KEYCODE.F10&&!T.keys.isBrowserAction(e))return e.preventDefault(),!(u=[])}else if(!(u=[])===function m(e){if(e.altKey&&e.which==ke.KEYCODE.SPACE){var t,a=T.selection.element();if("TD"==a.tagName||"TH"==a.tagName?t=a:0<R(a).closest("td").length?t=R(a).closest("td").get(0):0<R(a).closest("th").length&&(t=R(a).closest("th").get(0)),t)return e.preventDefault(),B(t,t),C(),!1}}(e))return!1},!0);var t=null,a=[];T.events.on("html.beforeGet",function(){a=pe();for(var e=0;e<a.length;e++)a[e].className=(a[e].className||"").replace(/fr-selected-cell/g,"");(t=T.$el.find("table.fr-table-selected"))&&t.length&&ee(t,"fr-table-selected")}),T.events.on("html.afterGet",function(){for(var e=0;e<a.length;e++)a[e].className=(a[e].className?a[e].className.trim()+" ":"")+"fr-selected-cell";a=[],t&&t.length&&t.addClass("fr-table-selected")});var d=!1,f=["applytextColor","bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","applybackgroundColor","inlineClass","inlineStyle","alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote","clearFormatting"];T.events.on("commands.before",function(e,t){if(!d&&1<pe().length&&-1!==f.indexOf(e)){T.undo.saveStep(),T.selection.save(),T.$el.find(".fr-marker").removeClass("fr-marker").addClass("fr-marker-placeholder");var a=ke.COMMANDS[e].undo;ke.COMMANDS[e].undo=!1,d=!0;for(var l={},r=0;r<pe().length;r++){var n=pe()[r],o=n.closest("tr").rowIndex;l[o]||(l[o]=[]),l[o].push(n)}for(var i in l){var s=l[i];T.selection.get().removeAllRanges();var c=T.doc.createRange();c.setStartBefore(s[0]),c.setEndAfter(s[s.length-1]),T.selection.get().addRange(c),T.commands.exec(e,[t])}return T.$el.find(".fr-marker-placeholder").addClass("fr-marker").removeClass("fr-marker-placeholder"),T.selection.restore(),T.undo.saveStep(),ke.COMMANDS[e].undo=a,d=!1}}),T.events.on("dragover",K),T.events.on("element.dropped",function(e){K(),o=i=!1;var t=F({target:e.get(0)});t&&(B(t,t),C())}),p(!0),b(!0),e()}T.events.on("destroy",fe)},insert:function ve(e,t){var a=function f(){var e={startTag:"",closeTag:""};if(T.opts.keepTextFormatOnTable){var t=R(T.selection.element().firstChild).parentsUntil(T.$el);e=g(t)}return{startTag:e.startTag,closeTag:e.closeTag}}(),l=[];T.opts.tableDefaultWidth&&l.push("width: "+T.opts.tableDefaultWidth+";"),T.opts.tableDefaultHeight&&l.push("height: "+T.opts.tableDefaultHeight+";"),l.push("margin: auto;"),"left"===T.opts.tableDefaultAlign?l.push("float: left;"):"right"===T.opts.tableDefaultAlign&&l.push("float: right;"),T.opts.tableDefaultBorderColor&&l.push("border-color: "+T.opts.tableDefaultBorderColor+";"),T.opts.tableDefaultBorderWidth&&l.push("border-width: "+T.opts.tableDefaultBorderWidth+";"),T.opts.tableDefaultBorderStyle&&l.push("border-style: "+T.opts.tableDefaultBorderStyle+";"),T.opts.tableDefaultBGColor&&l.push("background-color: "+T.opts.tableDefaultBorderStyle+";");var r,n,o=l.join(" "),i="<table "+(o?'style="'+o+'"':"")+' class="fr-inserted-table"><tbody>',s=100/t;for(r=0;r<e;r++){for(i+="<tr>",n=0;n<t;n++)i+="<td"+(T.opts.tableDefaultWidth?' style="width: '+s.toFixed(4)+'%;"':"")+">"+a.startTag,0===r&&0===n&&(i+=ke.MARKERS),i+="<br>"+a.closeTag+"</td>";i+="</tr>"}if(i+="</tbody></table>",T.opts.trackChangesEnabled){T.edit.on(),T.events.focus(!0),T.selection.restore(),T.undo.saveStep(),T.markers.insert(),T.html.wrap();var c=T.$el.find(".fr-marker");T.node.isLastSibling(c)&&c.parent().hasClass("fr-deletable")&&c.insertAfter(c.parent()),c.replaceWith(i),T.selection.clear()}else T.html.insert(i);T.selection.restore();var d=T.$el.find(".fr-inserted-table");ee(d,"fr-inserted-table"),T.events.trigger("table.inserted",[d.get(0)])},remove:y,insertRow:O,deleteRow:function me(){var e=be();if(0<e.length){var t,a,l,r=V(),n=L(r);if(null==n)return;if(0===n.min_i&&n.max_i==r.length-1)y();else{for(t=n.max_i;t>=n.min_i;t--){for(l=R(e.find("tr").not(e.find("> table tr")).get(t)),a=0;a<r[t].length;a++)if(0===a||r[t][a]!=r[t][a-1]){var o=R(r[t][a]);if(1<parseInt(o.attr("rowspan"),10)){var i=parseInt(o.attr("rowspan"),10)-1;1==i?o.removeAttr("rowspan"):o.attr("rowspan",i)}if(t<r.length-1&&r[t][a]==r[t+1][a]&&(0===t||r[t][a]!=r[t-1][a])){for(var s=r[t][a],c=a;0<c&&r[t][c]==r[t][c-1];)c--;0===c?R(e.find("tr").not(e.find("> table tr")).get(t+1)).prepend(s):R(r[t+1][c-1])[0].parentNode&&R(r[t+1][c-1])[0].insertAdjacentElement("afterend",s)}}var d=l.parent();l.remove(),0===d.find("tr").length&&d.remove(),r=V(e)}S(0,r.length-1,0,r[0].length-1,e),0<n.min_i?T.selection.setAtEnd(r[n.min_i-1][0]):T.selection.setAtEnd(r[0][0]),T.selection.restore(),T.popups.hide("table.edit")}}},insertColumn:function Ce(d){var e=be();if(0<e.length){var f,p=V(),t=L(p);f="before"==d?t.min_j:t.max_j;var a,b=100/p[0].length,h=100/(p[0].length+1);e.find("th, td").each(function(){(a=R(this)).data("old-width",a.outerWidth()/e.outerWidth()*100)}),e.find("tr").not(e.find("> table tr")).each(function(e){for(var t,a=R(this),l=0,r=0;l-1<f;){if(!(t=a.find("> th, > td").get(r))){t=null;break}t==p[e][l]?(l+=parseInt(R(t).attr("colspan"),10)||1,r++):(l+=parseInt(R(p[e][l]).attr("colspan"),10)||1,"after"==d&&(t=0===r?-1:a.find("> th, > td").get(r-1)))}var n=R(t);if("after"==d&&f<l-1||"before"==d&&0<f&&p[e][f]==p[e][f-1]){if(0===e||0<e&&p[e][f]!=p[e-1][f]){var o=parseInt(n.attr("colspan"),10)+1;n.attr("colspan",o),n.css("width",(n.data("old-width")*h/b+h).toFixed(4)+"%"),n.removeData("old-width")}}else{var i,s=(n.get(0)||"").tagName;if(0<a.find("th").length&&"TH"===s)i='<th style="width: '.concat(h.toFixed(4),'%;"><br></th>');else{var c=u(p[e][f]);i='<td style="'.concat(n.attr("style"),"; width: ").concat(h.toFixed(4),'%;">')+c.startTag+"<br>"+c.closeTag+"</td>"}R(i).append("<br>"),R(i).css("width","".concat(h.toFixed(4),"%")),-1==t?a.prepend(i):null==t?a.append(i):"before"==d?n.before(i):"after"==d&&n.after(i)}}),e.find("th, td").each(function(){(a=R(this)).data("old-width")&&(a.css("width",(a.data("old-width")*h/b).toFixed(4)+"%"),a.removeData("old-width"))}),T.popups.isVisible("table.edit")&&C()}},deleteColumn:function we(){var e=be();if(0<e.length){var t,a,l,r=V(),n=L(r);if(null==n)return;if(0===n.min_j&&n.max_j==r[0].length-1)y();else{var o=0;for(t=0;t<r.length;t++)for(a=0;a<r[0].length;a++)(l=R(r[t][a])).hasClass("fr-selected-cell")||(l.data("old-width",l.outerWidth()/e.outerWidth()*100),(a<n.min_j||a>n.max_j)&&(o+=l.outerWidth()/e.outerWidth()*100));for(o/=r.length,a=n.max_j;a>=n.min_j;a--)for(t=0;t<r.length;t++)if(0===t||r[t][a]!=r[t-1][a])if(l=R(r[t][a]),1<(parseInt(l.attr("colspan"),10)||1)){var i=parseInt(l.attr("colspan"),10)-1;1==i?l.removeAttr("colspan"):l.attr("colspan",i),l.css("width",(100*(l.data("old-width")-oe(a,r))/o).toFixed(4)+"%"),l.removeData("old-width")}else{var s=R(l.parent().get(0));l.remove(),0===s.find("> th, > td").length&&(0===s.prev().length||0===s.next().length||s.prev().find("> th[rowspan], > td[rowspan]").length<s.prev().find("> th, > td").length)&&s.remove()}S(0,r.length-1,0,r[0].length-1,e),0<n.min_j?T.selection.setAtEnd(r[n.min_i][n.min_j-1]):T.selection.setAtEnd(r[n.min_i][0]),T.selection.restore(),T.popups.hide("table.edit"),e.find("th, td").each(function(){(l=R(this)).data("old-width")&&(l.css("width",(100*l.data("old-width")/o).toFixed(4)+"%"),l.removeData("old-width"))})}}},mergeCells:function ye(){if(1<pe().length&&(0===T.$el.find("th.fr-selected-cell").length||0===T.$el.find("td.fr-selected-cell").length)){_();var e,t,a=L(V());if(null==a)return;var l=T.$el.find(".fr-selected-cell"),r=R(l[0]),n=r.parent().find(".fr-selected-cell"),o=r.closest("table"),i=r.html(),s=0;for(e=0;e<n.length;e++)s+=R(n[e]).outerWidth();for(r.css("width",Math.min(100,s/o.outerWidth()*100).toFixed(4)+"%"),a.min_j<a.max_j&&r.attr("colspan",a.max_j-a.min_j+1),a.min_i<a.max_i&&r.attr("rowspan",a.max_i-a.min_i+1),e=1;e<l.length;e++)"<br>"!=(t=R(l[e])).html()&&""!==t.html()&&(i+="<br>".concat(t.html())),t.remove();r.html(i),T.selection.setAtEnd(r.get(0)),T.selection.restore(),T.toolbar.enable(),H(a.min_i,a.max_i,o);var c=o.find("tr:empty");for(e=c.length-1;0<=e;e--)R(c[e]).remove();v(a.min_j,a.max_j,o),C()}},splitCellVertically:function Ee(){if(1==pe().length){var e=T.$el.find(".fr-selected-cell"),t=parseInt(e.attr("colspan"),10)||1,a=e.parent().outerWidth(),l=e.outerWidth(),r=e.clone().html("<br>"),n=V(),o=$(e.get(0),n);if(1<t){var i=Math.ceil(t/2);l=ie(o.col,o.col+i-1,n)/a*100;var s=ie(o.col+i,o.col+t-1,n)/a*100;1<i?e.attr("colspan",i):e.removeAttr("colspan"),1<t-i?r.attr("colspan",t-i):r.removeAttr("colspan"),e.css("width",l.toFixed(4)+"%"),r.css("width",s.toFixed(4)+"%")}else{var c;for(c=0;c<n.length;c++)if(0===c||n[c][o.col]!=n[c-1][o.col]){var d=R(n[c][o.col]);if(!d.is(e)){var f=(parseInt(d.attr("colspan"),10)||1)+1;d.attr("colspan",f)}}l=l/a*100/2,e.css("width","".concat(l.toFixed(4),"%")),r.css("width","".concat(l.toFixed(4),"%"))}e[0].parentNode&&e[0].insertAdjacentElement("afterend",r[0]),I(),T.popups.hide("table.edit")}},splitCellHorizontally:function Ae(){if(1==pe().length){var e=T.$el.find(".fr-selected-cell"),t=e.parent(),a=e.closest("table"),l=parseInt(e.attr("rowspan"),10),r=V(),n=$(e.get(0),r),o=e.clone().html("<br>");if(1<l){var i=Math.ceil(l/2);1<i?e.attr("rowspan",i):e.removeAttr("rowspan"),1<l-i?o.attr("rowspan",l-i):o.removeAttr("rowspan");for(var s=n.row+i,c=0===n.col?n.col:n.col-1;0<=c&&(r[s][c]==r[s][c-1]||0<s&&r[s][c]==r[s-1][c]);)c--;-1==c?R(a.find("tr").not(a.find("> table tr")).get(s)).prepend(o):R(r[s][c])[0].parentNode&&R(r[s][c])[0].insertAdjacentElement("afterend",o[0])}else{var d,f=R(document.createElement("tr")).append(o);for(d=0;d<r[0].length;d++)if(0===d||r[n.row][d]!=r[n.row][d-1]){var p=R(r[n.row][d]);p.is(e)||p.attr("rowspan",(parseInt(p.attr("rowspan"),10)||1)+1)}t[0].parentNode&&t[0].insertAdjacentElement("afterend",f[0])}I(),T.popups.hide("table.edit")}},addHeader:function Te(){var e=be();if(0<e.length&&0===e.find("> th").length){var t,a="<thead><tr>",l=0;for(l=e.find("tr").first().find("> th").length,e.find("tr").first().find("> td").each(function(){var e=R(this);l+=parseInt(e.attr("colspan"),10)||1}),t=0;t<l;t++)a+="<th><br></th>";a+="</tr></thead>",e.prepend(a),C()}},addFooter:function xe(){var e=be();if(0<e.length&&0===e.find("tfoot").length){var t="<tfoot><tr>",a=0,l=e.find("thead tr").first();0===l.length&&(l=e.find("tbody tr").first()),l.find("th, td").each(function(){a+=parseInt(R(this).attr("colspan"),10)||1});for(var r=0;r<a;r++)t+="<td><br></td>";t+="</tr></tfoot>",e.append(t),C()}},removeHeader:function Re(){var e=be(),t=e.find("> thead");if(0<(t=R(t)).length)if(0===e.find("tbody tr").length)y();else if(t.remove(),0<pe().length)C();else{T.popups.hide("table.edit");var a=e.find("tbody tr").first().find("td").first().get(0);a&&(T.selection.setAtEnd(a),T.selection.restore())}},removeFooter:function Oe(){var e=be(),t=e.find("tfoot");if(0<t.length)if(0===e.find("tbody tr").length)y();else if(t.remove(),0<pe().length)C();else{T.popups.hide("table.edit");var a=e.find("tbody tr").first().find("td").first().get(0);a&&(T.selection.setAtEnd(a),T.selection.restore())}},setBackground:function He(e){var t=T.$el.find(".fr-selected-cell");"REMOVE"!=e?t.css("background-color",T.helpers.HEXtoRGB(e)):t.css("background-color","")},showInsertPopup:function Me(){var e=T.$tb.find('.fr-command[data-cmd="insertTable"]'),t=T.popups.get("table.insert");if(t||(t=p()),!t.hasClass("fr-active")){T.popups.refresh("table.insert"),T.popups.setContainer("table.insert",T.$tb);var a=T.button.getPosition(e),l=a.left,r=a.top;T.popups.show("table.insert",l,r,e.outerHeight())}},showEditPopup:C,showColorsPopup:function Se(e){var t=V();if(t){var a=T.popups.get("table.colors");a||(a=function i(){var e="",t=0;0<T.opts.tableColorsButtons.length&&(e='<div class="fr-buttons fr-colors-buttons fr-tabs">'.concat(T.button.buildList(T.opts.tableColorsButtons),"</div>"));var a="";T.opts.colorsHEXInput&&(a='<div class="fr-color-hex-layer fr-table-colors-hex-layer fr-active fr-layer" id="fr-table-colors-hex-layer-'.concat(T.id,'">\n        <div class="fr-input-line">\n        <input maxlength="7" id="fr-table-colors-hex-layer-text" tabIndex="').concat(++t,'" type="text" placeholder="').concat(T.language.translate("HEX Color"),'" aria-required="true">\n        </div>\n        <div class="fr-action-buttons">\n        <button type="button" class="fr-command fr-submit" tabIndex="').concat(++t,'" data-cmd="applyCustomColor" role="button">\n        ').concat(T.language.translate("OK"),"\n        </button>\n        </div>\n        </div>"));var l={buttons:e,colors:function n(){for(var e='<div class="fr-color-set fr-table-colors">',t=0;t<T.opts.tableColors.length;t++)0!==t&&t%T.opts.tableColorsStep==0&&(e+="<br>"),"REMOVE"!=T.opts.tableColors[t]?e+='<span class="fr-command fr-select-color" style="background: '.concat(T.opts.tableColors[t],';" tabIndex="-1" aria-selected="false" role="button" data-cmd=\'onSelectColor\' data-param1="').concat(T.opts.tableColors[t],'"><span class="fr-sr-only">').concat(T.language.translate("Color")," ").concat(T.opts.tableColors[t],"&nbsp;&nbsp;&nbsp;</span></span>"):e+='<span class="fr-command fr-select-color" data-cmd=\'onColorClear\' tabIndex="-1" role="button" title="'.concat(T.language.translate("Clear Formatting"),'">').concat(T.icon.create("tableColorRemove"),'<span class="fr-sr-only">').concat(T.language.translate("Clear Formatting"),"</span></span>");return e+="</div>"}(),custom_color:a},r=T.popups.create("table.colors",l);return function o(m){T.events.on("popup.tab",function(e){var t=R(e.currentTarget);if(!T.popups.isVisible("table.colors")||!t.is("span, input, button"))return!0;var a,l,r=e.which,n=!0;if(ke.KEYCODE.TAB==r){var o=m.find("span.fr-select-color");if(t.is(o.first())&&e.shiftKey||t.is(m.find("span.fr-submit"))&&!e.shiftKey){var i=m.find(".fr-buttons");n=!T.accessibility.focusToolbar(i,!!e.shiftKey)}if(!1!==n){var s=m.find("span.fr-select-color");s.add(m.find("input")),s.add(m.find("button.fr-submit")),a=s.index(t),a=e.shiftKey?((a-1)%s.length+s.length)%s.length:(a+1)%s.length,l=s.get(a),T.events.disableBlur(),l.focus(),n=!1}}else if(ke.KEYCODE.ARROW_UP==r||ke.KEYCODE.ARROW_DOWN==r||ke.KEYCODE.ARROW_LEFT==r||ke.KEYCODE.ARROW_RIGHT==r){var c=t.parent().find("span.fr-command"),d=c.index(t),f=T.opts.colorsStep,p=Math.floor(c.length/f),b=d%f,h=Math.floor(d/f),u=h*f+b,g=p*f;ke.KEYCODE.ARROW_UP==r?u=((u-f)%g+g)%g:ke.KEYCODE.ARROW_DOWN==r?u=(u+f)%g:ke.KEYCODE.ARROW_LEFT==r?u=((u-1)%g+g)%g:ke.KEYCODE.ARROW_RIGHT==r&&(u=(u+1)%g);var v=R(c.get(u));T.events.disableBlur(),v.focus(),n=!1}else ke.KEYCODE.ENTER==r&&(T.button.exec(t),n=!1);return!1===n&&(e.preventDefault(),e.stopPropagation()),n},!0)}(r),r}()),a.data("type",e),T.popups.setContainer("table.colors",T.$sc);var l=k(t),r=(l.left+l.right)/2,n=l.bottom;!function o(){var e=T.popups.get("table.colors"),t=T.$el.find(".fr-selected-cell").first(),a=T.helpers.RGBToHex(t.css("background-color")),l=e.find(".fr-table-colors-hex-layer input");e.find(".fr-selected-color").removeClass("fr-selected-color fr-active-item"),e.find('span[data-param1="'.concat(a,'"]')).addClass("fr-selected-color fr-active-item"),l.val("")}(),T.popups.show("table.colors",r,n,l.bottom-l.top,!0)}},showTableProperties:function De(){var e=V();if(e){var n=T.popups.get("table.tableProperties");n||(n=ue());var t=be();n.data("tableStyle",{}),n.data("borderStyle","");var a=t[0],l=a&&a.getAttribute("style")||"",r=!!l,o=r&&/background(-color)?\s*:/i.test(l)?t.css("background-color"):"",i=r&&/border(-color)?\s*:/i.test(l)?t.css("border-color"):"",s=r&&/border(-style)?\s*:/i.test(l)?t.css("border-style"):"",c=r&&/border(-width)?\s*:/i.test(l)?t[0].style.borderWidth:"",d=r&&/(^|\s|;)width\s*:/i.test(l)&&a?a.style.width:"",f=r&&/(^|\s|;)height\s*:/i.test(l)&&a?a.style.height:"",p=r&&/(^|\s|;)float\s*:/i.test(l)&&a?a.style["float"]:"center",b="",h={};if(t.is("[class]")){var u=t.attr("class").split(/\s+/),g=T.opts.tableStyles;h=u.reduce(function(e,t){return g.hasOwnProperty(t)&&(e[t]=g[t]),e},{}),b=Object.values(h).join(", ")}var v=function v(e,t,a,l){var r=T.helpers.isRGBColor(l)?T.helpers.RGBToHex(l):l;n.find(e).val(r),A(n.find(t),n.find(a),r)},m=n.find(".fr-border-style").find(".fr-dropdown"),C=n.find(".fr-table-style").find(".fr-dropdown");v("#fr-table-bg",".fr-color-preview",".fr-color-preview-indicator",o),v("#fr-table-border-color",".fr-border-color-preview",".fr-border-color-preview-indicator",i),m.find("> span").text(s),C.find("> span").text(b||" "),he(p),setTimeout(function(){c&&n.find("#fr-table-border-width").val(c).focus(),i&&n.find("#fr-table-border-color").focus(),d&&n.find("#fr-table-width").val(d).focus(),f&&n.find("#fr-table-height").val(f).focus(),s&&n.data("borderStyle",s),h&&n.data("tableStyle",h),n.find("#fr-table-bg").focus()},10),T.popups.setContainer("table.tableProperties",T.$sc);var w=k(e),y=(w.left+w.right)/2,E=w.bottom;T.popups.show("table.tableProperties",y,E,w.bottom-w.top,!0)}},hideTableProperties:function Ve(){T.popups.hide("table.tableProperties")},updateTableAlign:he,back:function $e(e){if(T.popups.isVisible("table.colors")){T.popups.hide("table.colors");var t=V();if(t){var a="table"===e||"border"===e,l=a?"table.tableProperties":"table.cellProperties",r=T.popups.get(l);r||(r=a?ue():m()),T.popups.setContainer(l,T.$sc);var n,o=k(t),i=o.left+(o.right-o.left)/2,s=o.bottom;T.popups.show(l,i,s,o.bottom-o.top,!0),n="table"===e?".fr-btn-table-bg-color":"border"===e?".fr-btn-table-border-bg-color":".fr-btn-cell-bg-color",r.find(n).focus()}}else 0<pe().length?C():(T.popups.hide("table.insert"),T.toolbar.showInline())},verticalAlign:function Ne(e){T.$el.find(".fr-selected-cell").css("vertical-align",e)},horizontalAlign:function _e(e){T.$el.find(".fr-selected-cell").css("text-align",e)},applyStyle:function Ie(e,t,a,l){if(0<t.length){if(T.opts.useClasses||("TABLE"===t.get(0).tagName?function n(e,t){var a=e.childNodes;if(0<a.length)for(var l=0;l<a.length;l++)"TD"===a[l].tagName?"fr-dashed-borders"===t||"fr-highlighted"===t||"fr-thick"===t?D(a[l]):"fr-alternate-rows"===t&&a[l].style.removeProperty("background-color"):n(a[l],t)}(t.get(0),e):D(t.get(0))),!a){var r=Object.keys(l);r.splice(r.indexOf(e),1),t.removeClass(r.join(" "))}t.toggleClass(e)}},selectedTable:be,selectedCells:pe,customColor:function Pe(){var e=T.popups.get("table.colors").find(".fr-table-colors-hex-layer input"),t=e.val(),a=t;t&&t.length&&(0!==t.indexOf("#")&&(a="#"+t),d(a)),e.val("")},selectCells:B,resetAll:w,showCellPropertiesPopup:function Le(){var e=V();if(e){var t=T.popups.get("table.cellProperties")||m();t.find("#fr-cell-bg, #fr-cell-width, #fr-cell-height, #fr-cell-padding").val(""),w(),A(t.find(".fr-color-preview"),t.find(".fr-color-preview-indicator"),"");var a=T.table.selectedCells();if(a.length){var s=null,c=!0,d=null,f=!0,p=null,b=!0,h=null,u=!0,n=function n(e){return"rgba(0, 100, 255, 0.15)"===e};Array.from(a).forEach(function(e,t){var a,l=R(e),r=l.css("background-color");r&&"rgba(0, 0, 0, 0)"!==r&&"transparent"!==r&&(a=T.helpers.RGBToHex(r));var n=l.attr("data-cell-width"),o=l.attr("data-cell-height"),i=l.attr("data-cell-padding");0===t?(d=n||null,p=o||null,h=i||null,s=a||null):(n!==d&&(f=!1),o!==p&&(b=!1),i!==h&&(u=!1),a!==s&&(c=!1))});var l="";if(1===a.length){var r=R(a[0]),o=r.css("background-color");!(r[0]&&r[0].hasAttribute("style")&&/background(-color)?:/i.test(r.attr("style")))&&n(o)||(l=T.helpers.isRGBColor(o)?T.helpers.RGBToHex(o):o)}else c&&s&&Array.from(a).every(function(e){var t=R(e),a=e.getAttribute("style")||"",l=/background(-color)?:/i.test(a),r=t.css("background-color");return l||!n(r)})&&(l=T.helpers.isRGBColor(s)?T.helpers.RGBToHex(s):s);t.find("#fr-cell-bg").val(l),A(t.find(".fr-color-preview"),t.find(".fr-color-preview-indicator"),l),f&&d&&t.find("#fr-cell-width").val(d),b&&p&&t.find("#fr-cell-height").val(p),u&&h&&t.find("#fr-cell-padding").val(h),T.popups.setContainer("table.cellProperties",T.$sc);var i=k(e),g=i.left+(i.right-i.left)/2,v=i.bottom;T.popups.show("table.cellProperties",g,v,i.bottom-i.top,!0)}}},updateSelectedColor:d}},ke.RegisterCommand("tableProperties",{title:"Table Properties",icon:"tablePropertiesIcon",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showTableProperties()}}),ke.RegisterCommand("openColorPicker",{title:"Select color",focus:!1,popup:!0,callback:function(e,t){this.table.showColorsPopup(t)}}),ke.RegisterCommand("onCancel",{title:"Cancel",callback:function(){this.popups.hide("table.tableProperties"),this.popups.hide("table.cellProperties"),this.table.showEditPopup()}}),ke.RegisterCommand("applyCustomColor",{title:"OK",undo:!0,callback:function(){var e=this.popups.get("table.colors");this.table.back(e.data("type")),this.table.customColor()}}),ke.RegisterCommand("onSelectColor",{undo:!0,focus:!1,callback:function(e,t){var a=this.popups.get("table.colors");this.table.back(a.data("type")),this.table.updateSelectedColor(t)}}),ke.RegisterCommand("tableAlign",{title:"Table Align",undo:!0,callback:function(e,t){this.table.updateTableAlign(t)}}),ke.RegisterCommand("tableBorderStyle",{title:"",type:"dropdown",focus:!0,undo:!0,refreshAfterCallback:!0,displaySelection:function(e){return e.opts.tableBorderStyle},html:function(){for(var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableBorderStyle,a=0;a<t.length;a++)e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableBorderStyle" data-param1="'.concat(t[a],'" title="').concat(t[a],'">').concat(t[a],"</a></li>");return e+="</ul>"},callback:function(e,t){var a=this.popups.get("table.tableProperties"),l=a.find(".fr-border-style").find(".fr-dropdown");l.find("> span").text(t),a.data("borderStyle",t),l.focus()},refreshOnShow:function(e,t){var a=this.popups.get("table.tableProperties").data("borderStyle");t.find(".fr-command.fr-active").removeClass("fr-active").attr("aria-selected",!1),t.find('.fr-command[data-param1="'.concat(a,'"]')).addClass("fr-active").attr("aria-selected",!0)}}),ke.RegisterCommand("tableStyle",{title:"",type:"dropdown",focus:!0,undo:!0,displaySelectionWidth:"300",refreshAfterCallback:!0,displaySelection:function(e){return e.opts.tableStyles},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableStyles;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableStyle" data-param1="'.concat(a,'" title="').concat(this.language.translate(t[a]),'">').concat(this.language.translate(t[a]),"</a></li>"));return e+="</ul>"},callback:function(e,t){var a=this.popups.get("table.tableProperties"),l=a.find(".fr-table-style").find(".fr-dropdown"),r=this.opts.tableStyles,n=a.data("tableStyle")||{};n[t]?delete n[t]:n[t]=r[t],a.data("tableStyle",n);var o=Object.keys(n).length?Object.values(n).join(", "):" ";l.find("> span").text(o),l.focus()},refreshOnShow:function(e,t){var r=this,a=this.$el.find(".fr-selected-cell").closest("table"),n=this.popups.get("table.tableProperties");a&&t.find(".fr-command").each(function(e,t){var a=r.$(t).data("param1"),l=n.data("tableStyle")&&n.data("tableStyle")[a];l&&r.$(t).toggleClass("fr-active",l).attr("aria-selected",l)})}}),ke.RegisterCommand("onColorClear",{undo:!0,focus:!1,callback:function(){var e=this.popups.get("table.colors");this.table.back(e.data("type")),e.find("#fr-table-colors-hex-layer-text").val(""),this.table.updateSelectedColor("")}}),ke.RegisterCommand("applyTableProperties",{title:"Apply Table Properties",undo:!0,focus:!0,callback:function(){var e=this.popups.get("table.tableProperties"),t=e.find("#fr-table-bg").val(),a=e.find("#fr-table-border-color").val(),l=this.table.selectedTable(),r=e.find("#fr-table-width").val(),n=e.find("#fr-table-height").val(),o=e.find("#fr-table-border-width").val(),i=e.data("borderStyle"),s=e.data("tableAlign"),c=e.data("tableStyle"),d=!t||"REMOVE"===t||"transparent"===t||"rgba(0, 0, 0, 0)"===t;l.css("background-color",d?"":t);var f=!a||"REMOVE"===a||"transparent"===a||"rgba(0, 0, 0, 0)"===a;l.css("border-color",f?"":a);var p=function p(e){if(""===e)return!0;var t=e.trim();return/^-?\d+(\.\d+)?$/.test(t)&&(t+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(t)?t:null};if(r&&p(r)?l.css("width",p(r)):l.css("width",""),n&&p(n)?l.css("height",p(n)):l.css("height",""),o&&p(o)?l.css("border-width",p(o)):l.css("border-width",""),i&&l.css("border-style",i),"center"===s?(l.css("margin","auto"),l.css("float","")):(l.parent().is("li")&&l.parent().css("display","list-item flow-root"),l.css("float",s),l.css("margin","")),l.removeAttr("class"),c&&0<Object.keys(c).length)for(var b in c)c.hasOwnProperty(b)&&l.addClass(b);this.popups.hide("table.tableProperties")}}),ke.RegisterCommand("tableCellProperties",{title:"Cell Properties",icon:"tableCellProperties",undo:!1,focus:!1,popup:!0,callback:function(){this.table.showCellPropertiesPopup()},refresh:function(e){var t=0<this.table.selectedCells().length;e.toggleClass("fr-disabled",!t).attr("aria-disabled",!t)}}),ke.RegisterCommand("applyCellProperties",{title:"Apply Cell Properties",undo:!0,focus:!1,callback:function(){var n=this.$,e=this.popups.get("table.cellProperties"),o=function o(e,t,a,l){var r=n(e);a?(l&&r.attr(l,a),a!==r[0].style[t]&&(["width","height"].includes(t)&&r.removeAttr(t),r.css(t,a))):(r.css(t,""),l&&r.removeAttr(l),["width","height"].includes(t)&&r.removeAttr(t))},r=e.find("#fr-cell-bg").val(),i=e.find("#fr-cell-width").val(),s=e.find("#fr-cell-height").val(),c=e.find("#fr-cell-padding").val(),d=!0===e.data("bg-modified"),f=!0===e.data("width-modified"),p=!0===e.data("height-modified"),b=!0===e.data("padding-modified");this.table.selectedCells().forEach(function(e){var t=n(e);if(d){var a=!r||"REMOVE"===r||"transparent"===r||"rgba(0, 0, 0, 0)"===r;t.css("background-color",a?"":r)}var l=function l(e){if(""===e)return!0;var t=e.trim();return/^-?\d+(\.\d+)?$/.test(t)&&(t+="px"),/^-?\d+(\.\d+)?(px|%)$/.test(t)?t:null};f&&l(i)&&o(e,"width",i,"data-cell-width"),p&&l(s)&&o(e,"height",s,"data-cell-height"),b&&l(c)&&o(e,"padding",c,"data-cell-padding")}),this.table.resetAll(),this.popups.hide("table.cellProperties")}}),ke.DefineIcon("insertTable",{NAME:"table",SVG_KEY:"insertTable"}),ke.RegisterCommand("insertTable",{title:"Insert Table",undo:!1,focus:!0,refreshOnCallback:!1,popup:!0,callback:function(){this.popups.isVisible("table.insert")?(this.$el.find(".fr-marker").length&&(this.events.disableBlur(),this.selection.restore()),this.popups.hide("table.insert")):this.table.showInsertPopup()},plugin:"table"}),ke.RegisterCommand("tableInsert",{callback:function(e,t,a){this.table.insert(t,a),this.popups.hide("table.insert")}}),ke.DefineIcon("tableHeader",{NAME:"header",FA5NAME:"heading",SVG_KEY:"tableHeader"}),ke.RegisterCommand("tableHeader",{title:"Table Header",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableHeader"]').hasClass("fr-active")?this.table.removeHeader():this.table.addHeader()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("> thead").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ke.DefineIcon("tableFooter",{NAME:"table",FA5NAME:"table",SVG_KEY:"tableFooter"}),ke.RegisterCommand("tableFooter",{title:"Table Footer",focus:!1,toggle:!0,callback:function(){this.popups.get("table.edit").find('.fr-command[data-cmd="tableFooter"]').hasClass("fr-active")?this.table.removeFooter():this.table.addFooter()},refresh:function(e){var t=this.table.selectedTable();0<t.length&&(0===t.find("tfoot").length?e.removeClass("fr-active").attr("aria-pressed",!1):e.addClass("fr-active").attr("aria-pressed",!0))}}),ke.DefineIcon("tableRows",{NAME:"bars",SVG_KEY:"row"}),ke.RegisterCommand("tableRows",{type:"dropdown",focus:!1,title:"Row",options:{above:"Insert row above",below:"Insert row below","delete":"Delete row"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=ke.COMMANDS.tableRows.options;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableRows" data-param1="'+a+'" title="'+this.language.translate(t[a])+'">'+this.language.translate(t[a])+"</a></li>");return e+="</ul>"},callback:function(e,t){"above"==t||"below"==t?this.table.insertRow(t):this.table.deleteRow()}}),ke.DefineIcon("tableColumns",{NAME:"bars fa-rotate-90",SVG_KEY:"columns"}),ke.RegisterCommand("tableColumns",{type:"dropdown",focus:!1,title:"Column",options:{before:"Insert column before",after:"Insert column after","delete":"Delete column"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=ke.COMMANDS.tableColumns.options;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableColumns" data-param1="'.concat(a,'" title="').concat(this.language.translate(t[a]),'">').concat(this.language.translate(t[a]),"</a></li>"));return e+="</ul>"},callback:function(e,t){"before"==t||"after"==t?this.table.insertColumn(t):this.table.deleteColumn()}}),ke.DefineIcon("tableCells",{NAME:"square-o",FA5NAME:"square",SVG_KEY:"cellOptions"}),ke.RegisterCommand("tableCells",{type:"dropdown",focus:!1,title:"Cell",options:{merge:"Merge cells","vertical-split":"Vertical split","horizontal-split":"Horizontal split"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=ke.COMMANDS.tableCells.options;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCells" data-param1="'.concat(a,'" title="').concat(this.language.translate(t[a]),'">').concat(this.language.translate(t[a]),"</a></li>"));return e+="</ul>"},callback:function(e,t){"merge"==t?this.table.mergeCells():"vertical-split"==t?this.table.splitCellVertically():this.table.splitCellHorizontally()},refreshOnShow:function(e,t){1<this.$el.find(".fr-selected-cell").length?(t.find('a[data-param1="vertical-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="horizontal-split"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="merge"]').removeClass("fr-disabled").attr("aria-disabled",!1)):(t.find('a[data-param1="merge"]').addClass("fr-disabled").attr("aria-disabled",!0),t.find('a[data-param1="vertical-split"]').removeClass("fr-disabled").attr("aria-disabled",!1),t.find('a[data-param1="horizontal-split"]').removeClass("fr-disabled").attr("aria-disabled",!1))}}),ke.DefineIcon("tableRemove",{NAME:"trash",SVG_KEY:"removeTable"}),ke.RegisterCommand("tableRemove",{title:"Remove Table",focus:!1,callback:function(){this.table.remove()}}),ke.DefineIcon("tableBack",{NAME:"arrow-left",SVG_KEY:"back"}),ke.RegisterCommand("tableBack",{title:"Back",undo:!1,focus:!1,back:!0,callback:function(){var e=this.popups.get("table.colors");this.table.back(e.data("type"))}}),ke.DefineIcon("tableCellVerticalAlign",{NAME:"arrows-v",FA5NAME:"arrows-alt-v",SVG_KEY:"verticalAlignMiddle"}),ke.RegisterCommand("tableCellVerticalAlign",{type:"dropdown",focus:!1,title:"Vertical Align",options:{Top:"Align Top",Middle:"Align Middle",Bottom:"Align Bottom"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=ke.COMMANDS.tableCellVerticalAlign.options;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellVerticalAlign" data-param1="'.concat(a.toLowerCase(),'" title="').concat(this.language.translate(t[a]),'">').concat(this.language.translate(a),"</a></li>"));return e+="</ul>"},callback:function(e,t){this.table.verticalAlign(t)},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.$el.find(".fr-selected-cell").css("vertical-align")+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ke.DefineIcon("tableCellHorizontalAlign",{NAME:"align-left",SVG_KEY:"alignLeft"}),ke.DefineIcon("align-left",{NAME:"align-left",SVG_KEY:"alignLeft"}),ke.DefineIcon("align-right",{NAME:"align-right",SVG_KEY:"alignRight"}),ke.DefineIcon("align-center",{NAME:"align-center",SVG_KEY:"alignCenter"}),ke.DefineIcon("align-justify",{NAME:"align-justify",SVG_KEY:"alignJustify"}),ke.RegisterCommand("tableCellHorizontalAlign",{type:"dropdown",focus:!1,title:"Horizontal Align",options:{left:"Align Left",center:"Align Center",right:"Align Right",justify:"Align Justify"},html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=ke.COMMANDS.tableCellHorizontalAlign.options;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command fr-title" tabIndex="-1" role="option" data-cmd="tableCellHorizontalAlign" data-param1="'.concat(a,'" title="').concat(this.language.translate(t[a]),'">').concat(this.icon.create("align-".concat(a)),'<span class="fr-sr-only">').concat(this.language.translate(t[a]),"</span></a></li>"));return e+="</ul>"},callback:function(e,t){this.table.horizontalAlign(t)},refresh:function(e){var t=this.table.selectedCells(),a=this.$;t.length&&e.find("> *").first().replaceWith(this.icon.create("align-".concat(this.helpers.getAlignment(a(t[0])))))},refreshOnShow:function(e,t){t.find('.fr-command[data-param1="'+this.helpers.getAlignment(this.$el.find(".fr-selected-cell").first())+'"]').addClass("fr-active").attr("aria-selected",!0)}}),ke.DefineIcon("tableCellStyle",{NAME:"magic",SVG_KEY:"cellStyle"}),ke.RegisterCommand("tableCellStyle",{title:"Cell Style",type:"dropdown",focus:!1,html:function(){var e='<ul class="fr-dropdown-list" role="presentation">',t=this.opts.tableCellStyles;for(var a in t)t.hasOwnProperty(a)&&(e+='<li role="presentation"><a class="fr-command" tabIndex="-1" role="option" data-cmd="tableCellStyle" data-param1="'.concat(a,'" title="').concat(this.language.translate(t[a]),'">').concat(this.language.translate(t[a]),"</a></li>"));return e+="</ul>"},callback:function(e,t){this.table.applyStyle(t,this.$el.find(".fr-selected-cell"),this.opts.tableCellMultipleStyles,this.opts.tableCellStyles)},refreshOnShow:function(e,t){var a=this.$,l=this.$el.find(".fr-selected-cell").first();l&&t.find(".fr-command").each(function(){var e=a(this).data("param1"),t=l.hasClass(e);a(this).toggleClass("fr-active",t).attr("aria-selected",t)})}}),ke.DefineIcon("tableColorRemove",{NAME:"eraser",SVG_KEY:"remove"}),ke.DefineIcon("tableCellProperties",{template:"svgMultiplePath",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M19.513 3.25C20.9736 3.25 22.1577 4.43408 22.1577 5.89471V12.6517L22.1546 12.6526C21.8784 12.4577 21.6084 12.2933 21.3448 12.1593C21.1821 12.0767 21.0123 11.9963 20.8353 11.9183V8.53928H15.546V12.2584C15.3417 12.3719 15.1339 12.5033 14.9223 12.6526L12.7375 11.9949L11.6254 13.8287H8.93418V16.4735H12.9027C12.893 16.6127 12.8882 16.7519 12.8882 16.891C12.8882 17.1927 12.911 17.4943 12.9565 17.7959H3.64471C2.18408 17.7959 1 16.6118 1 15.1512V5.89471C1 4.43408 2.18408 3.25 3.64471 3.25H19.513ZM19.513 4.57235H15.546V7.21692H20.8353V5.89471C20.8353 5.16439 20.2433 4.57235 19.513 4.57235ZM8.93418 4.57235H14.2236V7.21692H8.93418V4.57235ZM3.64471 4.57235H7.61183V7.21692H2.32235V5.89471C2.32235 5.16439 2.91439 4.57235 3.64471 4.57235ZM2.32235 12.5063V8.53928H7.61183V12.5063H2.32235ZM2.32235 15.1512V13.8287H7.61183V16.4735H3.64471C2.91439 16.4735 2.32235 15.8815 2.32235 15.1512Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133  16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307  19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ke.DefineIcon("tablePropertiesIcon",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M22.1577 5.89471C22.1577 4.43408 20.9736 3.25 19.513 3.25H3.64471C2.18408 3.25 1 4.43408 1 5.89471V15.1512C1 16.6118 2.18408 17.7959 3.64471 17.7959H12.9565C12.911 17.4943 12.8882 17.1927 12.8882 16.891C12.8882 16.7519 12.893 16.6127 12.9027 16.4735H8.93418V13.8287H11.6254L12.4273 12.5063H8.93418V8.53928H14.2236V12.4422L14.9223 12.6526C15.1339 12.5033 15.3417 12.3719 15.546 12.2584V8.53928H20.8353V11.9183C21.0123 11.9963 21.1821 12.0767 21.3448 12.1593C21.6084 12.2933 21.8784 12.4577 22.1546 12.6526L22.1577 12.6517V5.89471ZM15.546 4.57235H19.513C20.2433 4.57235 20.8353 5.16439 20.8353 5.89471V7.21692H15.546V4.57235ZM14.2236 4.57235H8.93418V7.21692H14.2236V4.57235ZM7.61183 4.57235H3.64471C2.91439 4.57235 2.32235 5.16439 2.32235 5.89471V7.21692H7.61183V4.57235ZM2.32235 8.53928V12.5063H7.61183V8.53928H2.32235ZM2.32235 13.8287V15.1512C2.32235 15.8815 2.91439 16.4735 3.64471 16.4735H7.61183V13.8287H2.32235Z" fill="#333333"/>\n    <path fill-rule="evenodd" clip-rule="evenodd" d="M17.102 20.6423L17.4335 22.25H19.6434L19.9749 20.6423C20.1959 20.553 20.4031 20.4592 20.5964 20.361C20.7898 20.2627 20.9878 20.1421 21.1903 19.9992L22.7925 20.4815L23.8974 18.6595L22.6268 17.5877C22.6636 17.3555 22.682 17.1232 22.682 16.891C22.682 16.6588 22.6636 16.4266 22.6268 16.1944L23.8974 15.1226L22.7925 13.3005L21.1903 13.7828C20.9878 13.6399 20.7898 13.5193 20.5964 13.4211C20.4031 13.3228 20.1959 13.2291 19.9749 13.1397L19.6434 11.5321H17.4335L17.102 13.1397C16.881 13.2291 16.6739 13.3228 16.4805 13.4211C16.2871 13.5193 16.0892 13.6399 15.8866 13.7828L14.2844 13.3005L13.1795 15.1226L14.4502 16.1944C14.4133 16.4266 14.3949 16.6588 14.3949 16.891C14.3949 17.1232 14.4133 17.3555 14.4502 17.5877L13.1795 18.6595L14.2844 20.4815L15.8866 19.9992C16.0892 20.1421 16.2871 20.2627 16.4805 20.361C16.6739 20.4592 16.881 20.553 17.102 20.6423ZM20.0992 18.4049C19.6664 18.8247 19.1462 19.0346 18.5385 19.0346C17.9307 19.0346 17.4105 18.8247 16.9777 18.4049C16.545 17.9851 16.3286 17.4805 16.3286 16.891C16.3286 16.3015 16.545 15.7969 16.9777 15.3771C17.4105 14.9573 17.9307 14.7474 18.5385 14.7474C19.1462 14.7474 19.6664 14.9573 20.0992 15.3771C20.532 15.7969 20.7483 16.3015 20.7483 16.891C20.7483 17.4805 20.532 17.9851 20.0992 18.4049Z" fill="#333333"/>\n  '}),ke.DefineIcon("leftTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 6.45801V7.79134H13V6.45801H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 9.12467V10.458H13V9.12467H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 11.7913V13.1247H13V11.7913H18.3333Z" fill="#999998"/>\n    <path d="M10.3333 12.3333V13.6667H2.33333V12.3333H10.3333ZM10.3333 7H2.33333V13.6667C1.6431 13.6667 1.07495 13.1422 1.00651 12.4701L1 12.3333V7C1 6.26362 1.59695 5.66667 2.33333 5.66667H10.3333C11.0697 5.66667 11.6667 6.26362 11.6667 7V12.3333L11.6602 12.4701C11.5917 13.1422 11.0236 13.6667 10.3333 13.6667V7Z" fill="#333333"/>\n  '}),ke.DefineIcon("leftTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 6.95801V8.29134H13.5V6.95801H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 9.62467V10.958H13.5V9.62467H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 12.2913V13.6247H13.5V12.2913H18.8333Z" fill="#90B7FF"/>\n    <path d="M10.8333 12.8333V14.1667H2.83333V12.8333H10.8333ZM10.8333 7.5H2.83333V14.1667C2.1431 14.1667 1.57495 13.6422 1.50651 12.9701L1.5 12.8333V7.5C1.5 6.76362 2.09695 6.16667 2.83333 6.16667H10.8333C11.5697 6.16667 12.1667 6.76362 12.1667 7.5V12.8333L12.1602 12.9701C12.0917 13.6422 11.5236 14.1667 10.8333 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ke.DefineIcon("centerTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M13 12.3333V13.6667H6.33333V12.3333H13ZM13 7H6.33333V13.6667L6.19661 13.6602C5.56938 13.5963 5.07038 13.0973 5.00651 12.4701L5 12.3333V7C5 6.26362 5.59695 5.66667 6.33333 5.66667H13C13.7364 5.66667 14.3333 6.26362 14.3333 7V12.3333L14.3268 12.4701C14.263 13.0973 13.764 13.5963 13.1367 13.6602L13 13.6667V7Z" fill="#333333"/>\n  '}),ke.DefineIcon("centerTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M13.5 12.8333V14.1667H6.83333V12.8333H13.5ZM13.5 7.5H6.83333V14.1667L6.69661 14.1602C6.06938 14.0963 5.57038 13.5973 5.50651 12.9701L5.5 12.8333V7.5C5.5 6.76362 6.09695 6.16667 6.83333 6.16667H13.5C14.2364 6.16667 14.8333 6.76362 14.8333 7.5V12.8333L14.8268 12.9701C14.763 13.5973 14.264 14.0963 13.6367 14.1602L13.5 14.1667V7.5Z" fill="#2A77FF"/>\n '}),ke.DefineIcon("rightTableAlignActive",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.8333 3.5V4.83333H1.5V3.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M18.8333 15.5V16.8333H1.5V15.5H18.8333Z" fill="#90B7FF"/>\n    <path d="M6.83333 6.95801V8.29134H1.5V6.95801H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 9.62467V10.958H1.5V9.62467H6.83333Z" fill="#90B7FF"/>\n    <path d="M6.83333 12.2913V13.6247H1.5V12.2913H6.83333Z" fill="#90B7FF"/>\n    <path d="M17.5 12.8333V14.1667H9.5V12.8333H17.5ZM17.5 7.5H9.5V14.1667C8.80976 14.1667 8.24162 13.6422 8.17318 12.9701L8.16667 12.8333V7.5C8.16667 6.76362 8.76362 6.16667 9.5 6.16667H17.5C18.2364 6.16667 18.8333 6.76362 18.8333 7.5V12.8333L18.8268 12.9701C18.7584 13.6422 18.1902 14.1667 17.5 14.1667V7.5Z" fill="#2A77FF"/>\n  '}),ke.DefineIcon("rightTableAlign",{template:"svgMultiplePath",viewBox:"0 0 24 24",PATHS:'\n    <path d="M18.3333 3V4.33333H1V3H18.3333Z" fill="#999998"/>\n    <path d="M18.3333 15V16.3333H1V15H18.3333Z" fill="#999998"/>\n    <path d="M6.33333 6.45801V7.79134H1V6.45801H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 9.12468V10.458H1V9.12468H6.33333Z" fill="#999998"/>\n    <path d="M6.33333 11.7913V13.1247H1V11.7913H6.33333Z" fill="#999998"/>\n    <path d="M17 12.3333V13.6667H9V12.3333H17ZM17 7H9V13.6667C8.30976 13.6667 7.74162 13.1422 7.67318 12.4701L7.66667 12.3333V7C7.66667 6.26362 8.26362 5.66667 9 5.66667H17C17.7364 5.66667 18.3333 6.26362 18.3333 7V12.3333L18.3268 12.4701C18.2584 13.1422 17.6902 13.6667 17 13.6667V7Z" fill="#333333"/>\n  '}),ke.DefineIcon("tableSelectorIcon",{template:"svgMultiplePath",VIEWBOX:"1 1 14 14",PATHS:'<mask id="mask0_85_21" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="16" height="16"><rect width="16" height="16" fill="white"/></mask>\n          <g mask="url(#mask0_85_21)"><path d="M3.33333 14C2.96667 14 2.65278 13.8694 2.39167 13.6083C2.13056 13.3472 2 13.0333 2 12.6667V10H3.33333V12.6667H6V14H3.33333ZM10 \n          14V12.6667H12.6667V10H14V12.6667C14 13.0333 13.8694 13.3472 13.6083 13.6083C13.3472 13.8694 13.0333 14 12.6667 14H10ZM2 6V3.33333C2 2.96667 2.13056 2.65278 2.39167 \n          2.39167C2.65278 2.13056 2.96667 2 3.33333 2H6V3.33333H3.33333V6H2ZM12.6667 6V3.33333H10V2H12.6667C13.0333 2 13.3472 2.13056 13.6083 2.39167C13.8694 2.65278 14 2.96667 \n          14 3.33333V6H12.6667Z" fill="white"/> <rect opacity="0.4" x="4" y="4" width="8" height="8" fill="white"/></g>'})});